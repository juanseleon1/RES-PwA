<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Handling Paths Guide &mdash; Aldebaran 2.5.9.8-r3 documentation</title>
    
    <link rel="stylesheet" href="../../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '2.5.9.8-r3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <link rel="top" title="Aldebaran 2.5.9.8-r3 documentation" href="../../../index.html" />
    <link rel="up" title="Hands-on Guide" href="index.html" />
    <link rel="next" title="Using qilang to generate strongly-typed proxies" href="cxx-qilang.html" />
    <link rel="prev" title="Internationalization Guide" href="cxx-linguist.html" />
 
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-115894784-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-115894784-1');
</script>

<script type="text/javascript" src="https://cloud.aldebaran-robotics.com/static/js/topbar.js"></script>
<style>
div#hd::after {
  
  
  content: 'NAOqi 2.5';
  
  
  
  position: absolute;
  margin-top: -54px;
  right: -4px;
  font-size: 125%;
  -webkit-transform: rotate(45deg);
  -moz-transform: rotate(45deg);
  -o-transform: rotate(45deg);
  transform: rotate(45deg);
  }
</style>
<script>

$(window).ready(function () {

    //Aldebaran Top bar
     var barLinks = [];
     barLinks.push({'name':'Aldebaran Site', 'url':'http://www.aldebaran-robotics.com', 'click':'', 'img':'https://cloud.aldebaran-robotics.com/static/img/aldeb.png'});
     barLinks.push({'name':'Documentation', 'url':'../../../index.html', 'click':"", 'img':''});
     function ShowBar(name, email, usertype) {
        var barParams = {
            'name'    : name,
            'email'   : email,
            'usertype': usertype,
            'loginfct': "FctLogin"
        }
        try { InitTopBar(barParams, barLinks); } catch (e) { console.log('Top Bar Init Failed'); }
    }
    ShowBar();

    var width_label = 0;
    $('dl.function-index dt > span').each(function () {
        $(this).css('width', 'auto');
        width_label = Math.max(width_label, $(this).width());
    }).width(width_label + 30);
    $('.sig-paren').width('auto');

    // first level navigation

    var buttonIds = [".naoqi", "pepper", "nao", "romeo"];
    for(id in buttonIds){
        $(id).removeClass("active");
    }
    //Aldebaran project
    if ($('.toctree-l1.current a').text().indexOf("Romeo ")==0){
        $(".romeo").toggleClass('active');
    }
    else if ($('.toctree-l1.current a').text().indexOf("Pepper ")==0){
        $(".pepper").toggleClass('active');
    }
    else if ($('.toctree-l1.current a').text().indexOf("NAO ")==0){
        $(".nao").toggleClass('active');
    }
    else if($('.toctree-l1.current a').text().indexOf("NAOqi ")==0){
        $(".naoqi").toggleClass('active');
    }

    //qibuild project
    if ($('.toctree-l1.current a').text().indexOf("Welcome to qiBuild documentation !")==0){
        $(".beginner").toggleClass('active');
    }
    else if ($('.toctree-l1.current a').text().indexOf("Advanced qibuild usage")==0){
        $(".advanced").toggleClass('active');
    }
    else if ($('.toctree-l1.current a').text().indexOf("Hacking qiBuild")==0){
        $(".hacking").toggleClass('active');
    }

    // add "On this page", add cssClasses
    if($('.yui-g .section h1').length > 0){
        $('.yui-g .section h1:first').addClass("titleWrapper");
        $('.yui-g .section h1:first').after($("#on-this-page").html())
    }
    else if($('.yui-g .section h2').length > 0){
        $('.yui-g .section h2:first').addClass("titleWrapper");
        $('.yui-g .section h2:first').after($("#on-this-page").html())
    }
    //remove first element on this page
    if($("#on-this-page").length > 0){
        var doms = $(".yui-g .section :first").nextUntil("#toc-list");
        doms = doms.add($("#toc-list"));
        doms.wrapAll('<div class="iNavWrapper"></div>');
        $("#toc-list ul li a:first").remove()
        $("#toc-list ul:first").replaceWith($("#toc-list ul li").html())
    }
    $("#toc-list").hide();
    $("#otp-link").click(function(){
        $("#toc-list").slideToggle();
        if($("h2#otp-link").hasClass("change-before")){
            $("h2#otp-link").removeClass("change-before")
        }
        else{
            $("h2#otp-link").addClass("change-before")
        }
    });

    if($("a.current.reference.internal").length>0){
        var left = $("a.current.reference.internal").position().left-1;
        var width = $("a.current.reference.internal").width();
        var offset = 51;
        var sidebarWidth = 339;
        var right = sidebarWidth - (left + width + offset);
        if($("a.current.reference.internal").height() <= 15){
            $("a.current.reference.internal").css("white-space","nowrap");
            $("a.current.reference.internal").css({"backgroundColor":"#0F2939","paddingTop":"2px", "paddingBottom":"2px","paddingLeft":left+"px","marginLeft":"-"+left+"px", "paddingRight":right+"px","marginRight":"-"+right+"px", "boxShadow":"0px 0px 1px rgb(15, 41, 57)"});
        }
        else{
            $("a.current.reference.internal").css({"float":"right","backgroundColor":"#0F2939","paddingTop":"2px", "paddingBottom":"2px","paddingLeft":left+"px","marginLeft":"-"+left+"px", "paddingRight":right+"px","marginRight":"-"+right+"px", "boxShadow":"0px 0px 1px rgb(15, 41, 57)"});
            left = $("a.current.reference.internal").position().left-1;
            width = $("a.current.reference.internal").width();
            right = sidebarWidth - (left + width + offset);
            $("a.current.reference.internal").css({"float":"right","backgroundColor":"#0F2939","paddingTop":"2px", "paddingBottom":"2px","paddingLeft":left+"px","marginLeft":"-"+left+"px", "paddingRight":right+"px","marginRight":"-"+right+"px", "boxShadow":"0px 0px 1px rgb(15, 41, 57)"});
        }
        $("a.current.reference.internal").parent().css("list-style-type","none");
    }

    //back to top
    var offset = 300,
    //browser window scroll (in pixels) after which the "back to top" link opacity is reduced
    offset_opacity = 1200,
    //duration of the top scrolling animation (in ms)
    scroll_top_duration = 700;
    //grab the "back to top" link
    var back_to_top = $('.cd-top');

    //hide or show the "back to top" link
    $(window).scroll(function(){
        //back to top button
        ( $(this).scrollTop() > offset ) ? back_to_top.addClass('cd-is-visible') : back_to_top.removeClass('cd-is-visible cd-fade-out');
        if( $(this).scrollTop() > offset_opacity ) {
            back_to_top.addClass('cd-fade-out');
        }
    });

    //smooth scroll to top
    back_to_top.click(function(event){
        event.preventDefault();
        $('body,html').animate({
            scrollTop: 0 ,
        }, scroll_top_duration
        );
    });
    //add show source button

    //replace "go" with "search"
    $("#searchbox form input[type=submit]").val("Search")

    //trigger click on version triangle to jump to whats new
    $("#hd").click(function(e){if(e.pageX >= this.offsetWidth && e.pageY<120){$(".whatsnew")[0].click()}})
})

</script>


  </head>
  <body role="document">

    <div class="document">
  <div id="custom-doc" class="yui-t3">
    <div id="hd">
      
      <h1><a href="../../../index.html">SoftBank Robotics documentation</a>
      
      
      <span><a class="whatsnew" href="../../../news/index.html" >
      
          What's new in NAOqi 2.5?
      
      </a></span>
      
      </h1>
      <div id="global-nav">
        
        <a class="naoqi" title="NAOqi Developer guide" href="../../../index_dev_guide.html">NAOqi</a>
        <a class="pepper" title="Pepper documentation" href="../../../home_pepper.html">Pepper</a>
        <a class="nao" title="NAO documentation" href="../../../home_nao.html">NAO</a>
        <a class="romeo" title="Romeo Documentation" href="../../../home_romeo.html">Romeo</a>
        
        
        
        <div class="nav">
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script></div>
      </div>

    </div>
    <main class="cd-container">
        <div id="bd">
          <div id="yui-main">
            <div class="yui-b">
              <div class="yui-g" id="dev-libqi-guide-cxx-path">
                
  <div class="section" id="handling-paths-guide">
<span id="guide-cxx-path"></span><h1>Handling Paths Guide<a class="headerlink" href="#handling-paths-guide" title="Permalink to this headline">Â¶</a></h1>
<p>Provide access to application&#8217;s path, this include configuration, data, executable and library paths.</p>
<p>Provide access to various path including:</p>
<ul class="simple">
<li>executables, <cite>qi::path::findBin</cite></li>
<li>libraries, <cite>qi::path::findLib</cite></li>
<li>application data <cite>qi::path::findData</cite> and <cite>qi::path::listData</cite></li>
<li>application configuration <cite>qi::path::findConf</cite></li>
<li>writeable data and configuration paths <cite>qi::path::userWritableConfPath</cite>, <cite>qi::path::userWritableDataPath</cite></li>
</ul>
<p>Since this library is cross-platform we need to take care of different charsets
and localizations (UTF-8, UTF-16).</p>
<ul class="simple">
<li>Apple OS X always use UTF-8 locale and path.
OS X provide a Posix API that do not care about locale.</li>
<li>Windows (including Cygwin and MinGW) have both 8 bits functions using
various charsets depending on the Windows localization setup, and 16
bits functions using UTF-16. To support internationalization we need
to always use UTF-16 functions. (_wfopen, _wopen, _wsystem, ...).</li>
<li>Linux distributions use UTF-8 locale and path by default.
Linux provide a Posix API that do not care about locale.</li>
</ul>
<p>To support internationalization we will always consider path to be encoded in UTF-8 under Windows.
We will convert them to UTF-16 to pass them to the native windows API.
On Posix platform we have nothing to do.</p>
<p>We recommend to use <cite>boost::filesystem::path</cite> with and imbued UTF-8 locale.
you could use this code in your main to initialise <cite>boost::filesystem</cite> locale once:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span class="c1">// create a locale with a unicode facet to convert between char(utf-8) and wchar(utf-16/utf-32)</span>
<span class="n">std</span><span class="o">::</span><span class="n">locale</span> <span class="n">loc</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">locale</span><span class="p">(),</span> <span class="o">&amp;</span><span class="n">qi</span><span class="o">::</span><span class="n">unicodeFacet</span><span class="p">());</span>
<span class="c1">// Make boost.filesystem always use the unicode facet</span>
<span class="n">boost</span><span class="o">::</span><span class="n">filesystem</span><span class="o">::</span><span class="n">path</span><span class="o">::</span><span class="n">imbue</span><span class="p">(</span><span class="n">loc</span><span class="p">);</span>

<span class="c1">// it&#39;s although possible to set the locale as global.</span>
<span class="c1">// This will enable UTF8 support for iostream.</span>
<span class="n">std</span><span class="o">::</span><span class="n">locale</span><span class="o">::</span><span class="n">global</span><span class="p">(</span><span class="n">loc</span><span class="p">);</span>
</pre></div>
</div>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="the-sdk-layout">
<h3>The SDK Layout<a class="headerlink" href="#the-sdk-layout" title="Permalink to this headline">Â¶</a></h3>
<p>The main idea of the qibuild-based project is that you always end up
with the same layout.</p>
<p>For instance, right after having built you project, you end up with
a directory looking like this.</p>
<p>Here we assume you have a <cite>foo</cite> executable which:</p>
<ul class="simple">
<li>depends on a <cite>bar</cite> dynamic library</li>
<li>need to read data from a file named <cite>foo.data</cite> and XML files in a <cite>models</cite> directory</li>
<li>need to read configuration from a file named <cite>foo.cfg</cite></li>
</ul>
<div class="highlight-python"><div class="highlight"><pre>src
|__ foo
    |__ data
    |   |__ foo.data
    |   |__ models
    |       |__ nao.xml
    |       |__ romeo.xml
    |__ etc
        |__ foo.cfg

build
|__ sdk
    |__ lib
    |    |__ libbar.so
    |__ bin
         |__ foo
</pre></div>
</div>
<p>When everything is installed, you have something like:</p>
<div class="highlight-python"><div class="highlight"><pre>prefix
|__ lib
|   |__ libbar.so
|__ bin
|   |__ foo
|__ share
|   |__ foo
|       |__ foo.data
|       |__ models
|           |__ nao.xml
|           |__ romeo.xml
|__ etc
    |__ foo
        |__ foo.cfg
</pre></div>
</div>
</div>
<div class="section" id="the-problem">
<h3>The problem<a class="headerlink" href="#the-problem" title="Permalink to this headline">Â¶</a></h3>
<p>Here is a list of common requirements:</p>
<ul class="simple">
<li>Find the files <cite>foo/foo.cfg</cite>, <cite>foo/foo.data</cite> and <cite>foo/models/*.xml</cite>
in a clean, simple way,  while making sure the solution works whereas the
project is run from the build directory or installed</li>
<li>The executable <cite>foo</cite> may need to write or update its configuration
files or data but we need to make sure nothing will be written inside
the installed directory</li>
<li>Since there will be several <cite>foo.cfg</cite> files, we need to be able to process
then in a correct order.</li>
</ul>
</div>
<div class="section" id="the-solution">
<h3>The solution<a class="headerlink" href="#the-solution" title="Permalink to this headline">Â¶</a></h3>
<p>Here is how it works:</p>
<ul class="simple">
<li>First we introduce the concept of <strong>prefix</strong>. When something is built,
the prefix is <cite>/path/to/build/sdk</cite>, when something is installed, the prefix
is the <cite>DESTDIR</cite> plus the installation prefix.</li>
<li>Then we make sure the layout in the build prefix and in the install prefix is
always the same.
For instance, we will have CMake rules to be sure that whenever the foo project
is configured, a copy of <cite>foo.cfg</cite> is placed in <cite>build/sdk/foo/foo.cfg</cite>
(same thing for data)</li>
<li>At last, we provide an easy way to get the prefix anywhere from the c++ code.
The idea is that it is easy to get the prefix from <cite>argv0</cite>.
For instance, if <cite>argv0</cite> is <cite>/path/to/build/sdk/bin/foo</cite>, we can assume
the prefix is <cite>/path/to/build/sdk</cite>.</li>
<li>The prefix can be overridden by the argument <code class="docutils literal"><span class="pre">--qi-sdk-prefix</span></code> or the
variable <code class="docutils literal"><span class="pre">QI_SDK_PREFIX</span></code>.</li>
</ul>
</div>
</div>
<div class="section" id="using-namespace-path">
<h2>Using Namespace path<a class="headerlink" href="#using-namespace-path" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="notes-requirement">
<h3>Notes &amp; Requirement<a class="headerlink" href="#notes-requirement" title="Permalink to this headline">Â¶</a></h3>
<p>The <cite>qi::path</cite> always make sure that:</p>
<ul class="simple">
<li>returned path are absolute, native paths. (with &#8220;/&#8221; on UNIX and &#8220;\&#8221; on windows)</li>
<li>path always MUST be in UTF-8 encoding (every methods who need UTF-8
charset is specified in <cite>qi::path</cite>),</li>
<li>return path will be in UTF-8 charset.</li>
</ul>
<p>For this to work, we must make sure that</p>
<ul class="simple">
<li><cite>qi::init</cite> has been called.</li>
</ul>
<p>Have a look on the <cite>qi::path</cite> for more details.</p>
</div>
<div class="section" id="reading-and-writing-configuration-files">
<h3>Reading and writing configuration files<a class="headerlink" href="#reading-and-writing-configuration-files" title="Permalink to this headline">Â¶</a></h3>
<p>Writing a configuration file is very different from reading one.</p>
<p>Let&#8217;s assume the <cite>foo</cite> executable want to make sure that
<cite>SPAM=42</cite> in <cite>foo.cfg</cite>.</p>
<p>Here is how it works:</p>
<ul class="simple">
<li>First, ask for a <strong>list</strong> of possible paths for <cite>foo.cfg</cite></li>
<li>Iterate through this list and stop when the first possible <cite>foo.cfg</cite> is found</li>
<li>Read and update the <cite>foo.cfg</cite> file</li>
<li>Write the <cite>foo.cfg</cite> file.</li>
</ul>
<p>You can see that we ask for a <strong>list</strong> of paths when reading, but that we
always write to <strong>one</strong> file.</p>
<p>Let&#8217;s go through these steps again, assuming <cite>foo</cite> is installed in
<cite>/usr/bin/foo</cite>, and <cite>foo.cfg</cite> in <cite>/usr/share/foo/foo.cfg</cite>, and that there
is nothing else on the machine where <cite>foo</cite> is running.</p>
<ul class="simple">
<li>First step: ask for a list of possible paths for <cite>foo.cfg</cite>
using <cite>qi::path::getConfigurationPaths</cite>
This gives a list looking like :
<cite>[~/.config/foo/foo.cfg, /usr/share/foo/foo.cfg]</cite></li>
<li>Since <cite>.config/foo/foo.cfg</cite> does not exist, we read <cite>/usr/share/foo/foo.cfg</cite></li>
<li>Then we ask for a location to write: using qi::path::getConfigurationPaths
In this case it&#8217;s <cite>~/.config/foo/foo.cfg</cite>
So we write <cite>SPAM=42</cite> to <cite>~/.config/foo/foo.cfg</cite></li>
</ul>
<p>Then each time a piece of code will ask for the <cite>foo.cfg</cite> path, it will
get a list starting with <cite>~/.config/foo/foo.cfg</cite>, so we are sure the setting
<cite>SPAM=42</cite> will be used.</p>
</div>
</div>
<div class="section" id="example">
<h2>Example<a class="headerlink" href="#example" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-cpp"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * Copyright (c) 2012 Aldebaran Robotics. All rights reserved.</span>
<span class="cm"> * Use of this source code is governed by a BSD-style license that can be</span>
<span class="cm"> * found in the COPYING file.</span>
<span class="cm"> */</span>
<span class="cp">#include &lt;iostream&gt;</span>
<span class="cp">#include &lt;boost/filesystem/fstream.hpp&gt;</span>
<span class="cp">#include &lt;vector&gt;</span>

<span class="cp">#include &lt;qi/os.hpp&gt;</span>
<span class="cp">#include &lt;qi/path.hpp&gt;</span>
<span class="cp">#include &lt;qi/application.hpp&gt;</span>
<span class="cp">#include &lt;qi/qi.hpp&gt;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="c1">// Get the prefix name from argv0</span>
  <span class="c1">// Performs various initializations.</span>
  <span class="n">qi</span><span class="o">::</span><span class="n">Application</span> <span class="n">app</span><span class="p">(</span><span class="n">argc</span><span class="p">,</span> <span class="n">argv</span><span class="p">);</span>

  <span class="c1">// Get sdk prefix</span>
  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;SDK prefix is: &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">qi</span><span class="o">::</span><span class="n">path</span><span class="o">::</span><span class="n">sdkPrefix</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>

  <span class="c1">// First argument is the name of the application, used</span>
  <span class="c1">// to build various paths later.</span>
  <span class="k">const</span> <span class="n">qi</span><span class="o">::</span><span class="n">Path</span> <span class="n">fooCfgPath</span> <span class="o">=</span> <span class="n">qi</span><span class="o">::</span><span class="n">path</span><span class="o">::</span><span class="n">findConf</span><span class="p">(</span><span class="s">&quot;foo&quot;</span><span class="p">,</span> <span class="s">&quot;foo.cfg&quot;</span><span class="p">);</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">fooCfgPath</span><span class="p">.</span><span class="n">empty</span><span class="p">())</span>
  <span class="p">{</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cerr</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Could not find foo.cfg&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cerr</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Looked in: &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">configPaths</span> <span class="o">=</span> <span class="n">qi</span><span class="o">::</span><span class="n">path</span><span class="o">::</span><span class="n">confPaths</span><span class="p">(</span><span class="s">&quot;foo&quot;</span><span class="p">);</span>
    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;::</span><span class="n">const_iterator</span> <span class="n">it</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">it</span> <span class="o">=</span> <span class="n">configPaths</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span> <span class="n">it</span> <span class="o">!=</span> <span class="n">configPaths</span><span class="p">.</span><span class="n">end</span><span class="p">();</span> <span class="o">++</span><span class="n">it</span><span class="p">)</span>
    <span class="p">{</span>
      <span class="n">std</span><span class="o">::</span><span class="n">cerr</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;</span><span class="se">\t</span><span class="s">&quot;</span> <span class="o">&lt;&lt;</span> <span class="o">*</span><span class="n">it</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="k">else</span>
  <span class="p">{</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Found foo.cfg: &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">fooCfgPath</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Contents: &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
    <span class="kt">char</span> <span class="n">buf</span><span class="p">[</span><span class="mi">250</span><span class="p">];</span>

    <span class="c1">// Set stream to the right charset</span>
    <span class="n">boost</span><span class="o">::</span><span class="n">filesystem</span><span class="o">::</span><span class="n">ifstream</span> <span class="n">ifs</span><span class="p">(</span><span class="n">fooCfgPath</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">fstream</span><span class="o">::</span><span class="n">in</span><span class="p">);</span>
    <span class="k">while</span> <span class="p">(</span><span class="o">!</span> <span class="n">ifs</span><span class="p">.</span><span class="n">eof</span><span class="p">())</span>
    <span class="p">{</span>
      <span class="n">ifs</span><span class="p">.</span><span class="n">getline</span><span class="p">(</span><span class="n">buf</span><span class="p">,</span> <span class="mi">250</span><span class="p">);</span>
      <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">buf</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>


  <span class="c1">// ... Write back the configuration to userCfgPath</span>
  <span class="k">const</span> <span class="n">qi</span><span class="o">::</span><span class="n">Path</span> <span class="n">userCfgPath</span> <span class="o">=</span> <span class="n">qi</span><span class="o">::</span><span class="n">path</span><span class="o">::</span><span class="n">userWritableConfPath</span><span class="p">(</span><span class="s">&quot;foo&quot;</span><span class="p">,</span> <span class="s">&quot;foo.cfg&quot;</span><span class="p">);</span>
  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Writing config file to: &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">userCfgPath</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
  <span class="n">boost</span><span class="o">::</span><span class="n">filesystem</span><span class="o">::</span><span class="n">ofstream</span> <span class="n">ofs</span><span class="p">(</span><span class="n">userCfgPath</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">fstream</span><span class="o">::</span><span class="n">out</span> <span class="o">|</span> <span class="n">std</span><span class="o">::</span><span class="n">fstream</span><span class="o">::</span><span class="n">trunc</span><span class="p">);</span>
  <span class="n">ofs</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Hi, this is foo.cfg&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
  <span class="n">ofs</span><span class="p">.</span><span class="n">close</span><span class="p">();</span>

  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>


              </div>
            </div>
          </div>
          
            
              <div class="yui-b" id="sidebar">
                
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../contents.html">Site map</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../news/index.html">Whatâs new</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../../index_dev_guide.html">NAOqi - Developer guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../getting_started/index.html">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../getting_started/creating_applications/index.html">Creating an application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../ref/life/index.html">Programming for a living robot</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../getting_started/index_tuto.html">Other tutorials</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../software/choregraphe/index.html">Choregraphe Suite</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../programming_index.html">SDKs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../naoqi/index.html">NAOqi APIs</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">qi Framework</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../api/index.html">API References</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html">Hands-on Guide</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="cxx-client.html">C++ - How to write a qimessaging client</a></li>
<li class="toctree-l4"><a class="reference internal" href="cxx-service.html">C++ - How to write a qimessaging service</a></li>
<li class="toctree-l4"><a class="reference internal" href="cxx-register-types.html">Registering types in the type system</a></li>
<li class="toctree-l4"><a class="reference internal" href="cxx-async.html">Asynchronous operations</a></li>
<li class="toctree-l4"><a class="reference internal" href="cxx-log.html">Using qi::log</a></li>
<li class="toctree-l4"><a class="reference internal" href="cxx-log-client.html">How to receive and send logs</a></li>
<li class="toctree-l4"><a class="reference internal" href="cxx-linguist.html">Internationalization Guide</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="">Handling Paths Guide</a><ul class="simple">
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="cxx-qilang.html">Using qilang to generate strongly-typed proxies</a></li>
<li class="toctree-l4"><a class="reference internal" href="py-client.html">Python - How to write a qimessaging client</a></li>
<li class="toctree-l4"><a class="reference internal" href="py-service.html">Python - How to write a qimessaging service</a></li>
<li class="toctree-l4"><a class="reference internal" href="py-log-client.html">Python - How to receive and send logs</a></li>
<li class="toctree-l4"><a class="reference internal" href="py-tonaoqi2.html">How to switch from NAOqi to qi Framework</a></li>
<li class="toctree-l4"><a class="reference internal" href="qi-app-arguments.html">qi application arguments</a></li>
<li class="toctree-l4"><a class="reference internal" href="qicli.html">Using qicli commands</a></li>
<li class="toctree-l4"><a class="reference internal" href="qilaunch.html">Using qilaunch</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../design/index.html">Design Documents</a></li>
<li class="toctree-l3"><a class="reference internal" href="../internal/typesystem.html">Type system</a></li>
<li class="toctree-l3"><a class="reference internal" href="../internal/object.html">Object type erasure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../internal/template.html">Registering template types</a></li>
<li class="toctree-l3"><a class="reference internal" href="../internal/call.html">Call code path</a></li>
<li class="toctree-l3"><a class="reference internal" href="../internal/messaging.html">Messaging system</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changelog/index.html">qi Framework - ChangeLog</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changelog/interface.html">qi Framework - Deprecation history</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../ref/index.html">Former NAOqi Framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../simulators/simulator_index.html">Simulators</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../home_nao.html"><strong>NAO</strong> - Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../home_pepper.html"><strong>Pepper</strong> - Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../home_romeo.html"><strong>Romeo</strong> - Documentation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../legal/notice.html">Legal notices</a></li>
</ul>

    <div id="on-this-page" style="display:none;">
        <h2 id="otp-link">On this page</h2>
        <div id="toc-list">
            <ul>
<li><a class="reference internal" href="#">Handling Paths Guide</a><ul>
<li><a class="reference internal" href="#overview">Overview</a><ul>
<li><a class="reference internal" href="#the-sdk-layout">The SDK Layout</a></li>
<li><a class="reference internal" href="#the-problem">The problem</a></li>
<li><a class="reference internal" href="#the-solution">The solution</a></li>
</ul>
</li>
<li><a class="reference internal" href="#using-namespace-path">Using Namespace path</a><ul>
<li><a class="reference internal" href="#notes-requirement">Notes &amp; Requirement</a></li>
<li><a class="reference internal" href="#reading-and-writing-configuration-files">Reading and writing configuration files</a></li>
</ul>
</li>
<li><a class="reference internal" href="#example">Example</a></li>
</ul>
</li>
</ul>

        </div>
    </div>
        </div>
      </div>
              </div>
            
          
        </div>
    </main>
    <a href="#0" class="cd-top"></a>
    <div id="ft">
      
      <a title="Glossary" href="../../../glossary.html">Glossary</a>
      <a title="Site map" href="../../../contents.html">Site map</a>
      <a title="Index" href="../../../genindex.html">Index</a>
      <a title="Support" target="_blank" href="https://account.aldebaran.com/support/">Support</a>
      <a title="Contact" target="_blank" href="https://www.aldebaran.com/en/contact">Contact</a>
      <a title="Legal Notices" href="../../../legal/notice.html">Legal Notices</a>
      
      
      <img src="https://www.ald.softbankrobotics.com/sites/aldebaran/files/logos-picture/2016_digital_logo_sbr_112x31_0.png" alt="">
    </div>
  </div>

      <div class="clearer"></div>
    </div>
  </body>
</html>