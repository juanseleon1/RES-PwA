<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>C++ - How to write a qimessaging service &mdash; Aldebaran 2.5.9.8-r3 documentation</title>
    
    <link rel="stylesheet" href="../../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '2.5.9.8-r3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <link rel="top" title="Aldebaran 2.5.9.8-r3 documentation" href="../../../index.html" />
    <link rel="up" title="Hands-on Guide" href="index.html" />
    <link rel="next" title="Registering types in the type system" href="cxx-register-types.html" />
    <link rel="prev" title="C++ - How to write a qimessaging client" href="cxx-client.html" />
 
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-115894784-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-115894784-1');
</script>

<script type="text/javascript" src="https://cloud.aldebaran-robotics.com/static/js/topbar.js"></script>
<style>
div#hd::after {
  
  
  content: 'NAOqi 2.5';
  
  
  
  position: absolute;
  margin-top: -54px;
  right: -4px;
  font-size: 125%;
  -webkit-transform: rotate(45deg);
  -moz-transform: rotate(45deg);
  -o-transform: rotate(45deg);
  transform: rotate(45deg);
  }
</style>
<script>

$(window).ready(function () {

    //Aldebaran Top bar
     var barLinks = [];
     barLinks.push({'name':'Aldebaran Site', 'url':'http://www.aldebaran-robotics.com', 'click':'', 'img':'https://cloud.aldebaran-robotics.com/static/img/aldeb.png'});
     barLinks.push({'name':'Documentation', 'url':'../../../index.html', 'click':"", 'img':''});
     function ShowBar(name, email, usertype) {
        var barParams = {
            'name'    : name,
            'email'   : email,
            'usertype': usertype,
            'loginfct': "FctLogin"
        }
        try { InitTopBar(barParams, barLinks); } catch (e) { console.log('Top Bar Init Failed'); }
    }
    ShowBar();

    var width_label = 0;
    $('dl.function-index dt > span').each(function () {
        $(this).css('width', 'auto');
        width_label = Math.max(width_label, $(this).width());
    }).width(width_label + 30);
    $('.sig-paren').width('auto');

    // first level navigation

    var buttonIds = [".naoqi", "pepper", "nao", "romeo"];
    for(id in buttonIds){
        $(id).removeClass("active");
    }
    //Aldebaran project
    if ($('.toctree-l1.current a').text().indexOf("Romeo ")==0){
        $(".romeo").toggleClass('active');
    }
    else if ($('.toctree-l1.current a').text().indexOf("Pepper ")==0){
        $(".pepper").toggleClass('active');
    }
    else if ($('.toctree-l1.current a').text().indexOf("NAO ")==0){
        $(".nao").toggleClass('active');
    }
    else if($('.toctree-l1.current a').text().indexOf("NAOqi ")==0){
        $(".naoqi").toggleClass('active');
    }

    //qibuild project
    if ($('.toctree-l1.current a').text().indexOf("Welcome to qiBuild documentation !")==0){
        $(".beginner").toggleClass('active');
    }
    else if ($('.toctree-l1.current a').text().indexOf("Advanced qibuild usage")==0){
        $(".advanced").toggleClass('active');
    }
    else if ($('.toctree-l1.current a').text().indexOf("Hacking qiBuild")==0){
        $(".hacking").toggleClass('active');
    }

    // add "On this page", add cssClasses
    if($('.yui-g .section h1').length > 0){
        $('.yui-g .section h1:first').addClass("titleWrapper");
        $('.yui-g .section h1:first').after($("#on-this-page").html())
    }
    else if($('.yui-g .section h2').length > 0){
        $('.yui-g .section h2:first').addClass("titleWrapper");
        $('.yui-g .section h2:first').after($("#on-this-page").html())
    }
    //remove first element on this page
    if($("#on-this-page").length > 0){
        var doms = $(".yui-g .section :first").nextUntil("#toc-list");
        doms = doms.add($("#toc-list"));
        doms.wrapAll('<div class="iNavWrapper"></div>');
        $("#toc-list ul li a:first").remove()
        $("#toc-list ul:first").replaceWith($("#toc-list ul li").html())
    }
    $("#toc-list").hide();
    $("#otp-link").click(function(){
        $("#toc-list").slideToggle();
        if($("h2#otp-link").hasClass("change-before")){
            $("h2#otp-link").removeClass("change-before")
        }
        else{
            $("h2#otp-link").addClass("change-before")
        }
    });

    if($("a.current.reference.internal").length>0){
        var left = $("a.current.reference.internal").position().left-1;
        var width = $("a.current.reference.internal").width();
        var offset = 51;
        var sidebarWidth = 339;
        var right = sidebarWidth - (left + width + offset);
        if($("a.current.reference.internal").height() <= 15){
            $("a.current.reference.internal").css("white-space","nowrap");
            $("a.current.reference.internal").css({"backgroundColor":"#0F2939","paddingTop":"2px", "paddingBottom":"2px","paddingLeft":left+"px","marginLeft":"-"+left+"px", "paddingRight":right+"px","marginRight":"-"+right+"px", "boxShadow":"0px 0px 1px rgb(15, 41, 57)"});
        }
        else{
            $("a.current.reference.internal").css({"float":"right","backgroundColor":"#0F2939","paddingTop":"2px", "paddingBottom":"2px","paddingLeft":left+"px","marginLeft":"-"+left+"px", "paddingRight":right+"px","marginRight":"-"+right+"px", "boxShadow":"0px 0px 1px rgb(15, 41, 57)"});
            left = $("a.current.reference.internal").position().left-1;
            width = $("a.current.reference.internal").width();
            right = sidebarWidth - (left + width + offset);
            $("a.current.reference.internal").css({"float":"right","backgroundColor":"#0F2939","paddingTop":"2px", "paddingBottom":"2px","paddingLeft":left+"px","marginLeft":"-"+left+"px", "paddingRight":right+"px","marginRight":"-"+right+"px", "boxShadow":"0px 0px 1px rgb(15, 41, 57)"});
        }
        $("a.current.reference.internal").parent().css("list-style-type","none");
    }

    //back to top
    var offset = 300,
    //browser window scroll (in pixels) after which the "back to top" link opacity is reduced
    offset_opacity = 1200,
    //duration of the top scrolling animation (in ms)
    scroll_top_duration = 700;
    //grab the "back to top" link
    var back_to_top = $('.cd-top');

    //hide or show the "back to top" link
    $(window).scroll(function(){
        //back to top button
        ( $(this).scrollTop() > offset ) ? back_to_top.addClass('cd-is-visible') : back_to_top.removeClass('cd-is-visible cd-fade-out');
        if( $(this).scrollTop() > offset_opacity ) {
            back_to_top.addClass('cd-fade-out');
        }
    });

    //smooth scroll to top
    back_to_top.click(function(event){
        event.preventDefault();
        $('body,html').animate({
            scrollTop: 0 ,
        }, scroll_top_duration
        );
    });
    //add show source button

    //replace "go" with "search"
    $("#searchbox form input[type=submit]").val("Search")

    //trigger click on version triangle to jump to whats new
    $("#hd").click(function(e){if(e.pageX >= this.offsetWidth && e.pageY<120){$(".whatsnew")[0].click()}})
})

</script>


  </head>
  <body role="document">

    <div class="document">
  <div id="custom-doc" class="yui-t3">
    <div id="hd">
      
      <h1><a href="../../../index.html">SoftBank Robotics documentation</a>
      
      
      <span><a class="whatsnew" href="../../../news/index.html" >
      
          What's new in NAOqi 2.5?
      
      </a></span>
      
      </h1>
      <div id="global-nav">
        
        <a class="naoqi" title="NAOqi Developer guide" href="../../../index_dev_guide.html">NAOqi</a>
        <a class="pepper" title="Pepper documentation" href="../../../home_pepper.html">Pepper</a>
        <a class="nao" title="NAO documentation" href="../../../home_nao.html">NAO</a>
        <a class="romeo" title="Romeo Documentation" href="../../../home_romeo.html">Romeo</a>
        
        
        
        <div class="nav">
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script></div>
      </div>

    </div>
    <main class="cd-container">
        <div id="bd">
          <div id="yui-main">
            <div class="yui-b">
              <div class="yui-g" id="dev-libqi-guide-cxx-service">
                
  <div class="section" id="c-how-to-write-a-qimessaging-service">
<span id="guide-cxx-service"></span><h1>C++ - How to write a qimessaging service<a class="headerlink" href="#c-how-to-write-a-qimessaging-service" title="Permalink to this headline">¶</a></h1>
<p>This document will teach you how to write your very own qimessaging service,
so that your new shiny object can be used by other qimessaging services and
clients, locally or remotely, and from many different programming languages.</p>
<div class="section" id="limitations">
<h2>Limitations<a class="headerlink" href="#limitations" title="Permalink to this headline">¶</a></h2>
<p>There are some restrictions on what you can do:</p>
<ul class="simple">
<li>Do not use <em>class member data</em>.</li>
<li>Output parameters are not supported: you should not take pointers as arguments,
or non-const references.</li>
<li>Do not use methods in transmitted <em>struct</em>, as they will not be available in
other languages: put the methods in an associated <em>class</em>.</li>
</ul>
<p>To understand those restrictions, keep in mind that qimessaging is a middleware
that knows how to transport <em>data</em> (like primitive types, structs, and containers
of the above), and how to make calls to remote methods, signals and properties,
but cannot mix the two.</p>
</div>
<div class="section" id="write-your-service">
<h2>Write your service<a class="headerlink" href="#write-your-service" title="Permalink to this headline">¶</a></h2>
<p>Your service can be a simple class which is registered in the type system (see
<a class="reference internal" href="cxx-register-types.html#guide-cxx-register-types"><span>type registration</span></a>):</p>
<div class="highlight-cpp"><div class="highlight"><pre><span class="cp">#include &lt;qi/anyobject.hpp&gt;</span>

<span class="k">struct</span> <span class="n">Mosquito</span>
<span class="p">{</span>
  <span class="kt">double</span> <span class="n">yaw</span><span class="p">,</span><span class="n">theta</span><span class="p">,</span><span class="n">distance</span><span class="p">;</span>
<span class="p">};</span>
<span class="n">QI_TYPE_STRUCT</span><span class="p">(</span><span class="n">Mosquito</span><span class="p">,</span> <span class="n">yaw</span><span class="p">,</span> <span class="n">theta</span><span class="p">,</span> <span class="n">distance</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">Cat</span>
<span class="p">{</span>
  <span class="k">public</span><span class="o">:</span>
    <span class="kt">void</span> <span class="n">meow</span><span class="p">(</span><span class="kt">int</span> <span class="n">volume</span><span class="p">);</span>
    <span class="kt">bool</span> <span class="nf">setTarget</span><span class="p">(</span><span class="k">const</span> <span class="n">Mosquito</span><span class="o">&amp;</span> <span class="n">m</span><span class="p">);</span>

    <span class="n">qi</span><span class="o">::</span><span class="n">Property</span><span class="o">&lt;</span><span class="kt">float</span><span class="o">&gt;</span> <span class="n">hunger</span><span class="p">;</span>
    <span class="n">qi</span><span class="o">::</span><span class="n">Property</span><span class="o">&lt;</span><span class="kt">float</span><span class="o">&gt;</span> <span class="n">boredom</span><span class="p">;</span>
    <span class="n">qi</span><span class="o">::</span><span class="n">Property</span><span class="o">&lt;</span><span class="kt">float</span><span class="o">&gt;</span> <span class="n">cuteness</span><span class="p">;</span>
    <span class="n">qi</span><span class="o">::</span><span class="n">Signal</span><span class="o">&lt;</span><span class="n">Mosquito</span><span class="o">&gt;</span> <span class="n">onTargetDetected</span><span class="p">;</span>
<span class="p">};</span>
<span class="n">QI_REGISTER_OBJECT</span><span class="p">(</span><span class="n">Cat</span><span class="p">,</span> <span class="n">meow</span><span class="p">,</span> <span class="n">setTarget</span><span class="p">,</span> <span class="n">hunger</span><span class="p">,</span> <span class="n">boredom</span><span class="p">,</span> <span class="n">cuteness</span><span class="p">,</span>
    <span class="n">onTargetDetected</span><span class="p">);</span>
</pre></div>
</div>
<p>Now your class and its types (Mosquito) are known by the type-system. If you
don&#8217;t want to make a module, you can skip directly to the
<a class="reference internal" href="#guide-cxx-service-manual"><span>Manual way</span></a> section.</p>
<p>You will then put this class in a <em>module</em> (like a library) that you will be
able to load dynamically. You will also need to advertise a factory to be able
to make a <code class="docutils literal"><span class="pre">Cat</span></code> out of this module, like this:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span class="kt">void</span> <span class="nf">registerCat</span><span class="p">(</span><span class="n">qi</span><span class="o">::</span><span class="n">ModuleBuilder</span><span class="o">*</span> <span class="n">mb</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">mb</span><span class="o">-&gt;</span><span class="n">advertiseFactory</span><span class="o">&lt;</span><span class="n">Cat</span><span class="o">&gt;</span><span class="p">(</span><span class="s">&quot;Cat&quot;</span><span class="p">);</span>
<span class="p">}</span>
<span class="n">QI_REGISTER_MODULE</span><span class="p">(</span><span class="s">&quot;catsimulator&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">registerCat</span><span class="p">);</span>
</pre></div>
</div>
<p>Your module will be called <code class="docutils literal"><span class="pre">catsimulator</span></code> (must be the same name that you will
put in your CMake file). You can now write a CMakeLists.txt and you&#8217;re done:</p>
<div class="highlight-cmake"><div class="highlight"><pre><span class="nb">cmake_minimum_required</span><span class="p">(</span><span class="s">VERSION</span> <span class="s">2.8</span><span class="p">)</span>
<span class="nb">project</span><span class="p">(</span><span class="s">catsimulator</span><span class="p">)</span>

<span class="nb">find_package</span><span class="p">(</span><span class="s">qibuild</span><span class="p">)</span>
<span class="nb">find_package</span><span class="p">(</span><span class="s">qimodule</span><span class="p">)</span>

<span class="nb">qi_create_module</span><span class="p">(</span><span class="s">catsimulator</span>
  <span class="s">SRC</span>
    <span class="s">src/cat.cpp</span>
  <span class="s">DEPENDS</span>
    <span class="s">QI</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Remember that the name you put in <code class="docutils literal"><span class="pre">qi_create_module</span></code> must be the same as the
one in <code class="docutils literal"><span class="pre">QI_REGISTER_MODULE</span></code>. For more information about modules, see
<a class="reference internal" href="../api/cpp/type/anymodule.html#qi::AnyModule" title="qi::AnyModule"><code class="xref cpp cpp-guess docutils literal"><span class="pre">qi::AnyModule</span></code></a>.</p>
</div>
<div class="section" id="running-your-service">
<h2>Running your service<a class="headerlink" href="#running-your-service" title="Permalink to this headline">¶</a></h2>
<div class="section" id="fully-automated-way">
<h3>Fully automated way<a class="headerlink" href="#fully-automated-way" title="Permalink to this headline">¶</a></h3>
<p>You can start your service by using qilaunch, like this:</p>
<div class="highlight-console"><div class="highlight"><pre><span class="go">qilaunch -n catsimulator --object catsimulator.Cat</span>
</pre></div>
</div>
<p>qilaunch instantiates your service and registers it on the ServiceDirectory.
It will forward its logs to the LogManager if present and will initialize
breakpad to make a minidump when it crashes. You can stop it at any time with
CTRL-C.</p>
<p>For more information on qilaunch, read <a class="reference internal" href="qilaunch.html#qilaunch"><span>Using qilaunch</span></a>.</p>
</div>
<div class="section" id="semi-automated-way">
<h3>Semi-automated way<a class="headerlink" href="#semi-automated-way" title="Permalink to this headline">¶</a></h3>
<p>You can also instantiate your object manually and expose it on a session. In
this example, <a class="reference internal" href="../api/cpp/messaging/applicationsession.html#qi::ApplicationSession" title="qi::ApplicationSession"><code class="xref cpp cpp-guess docutils literal"><span class="pre">ApplicationSession</span></code></a> parses the command line arguments to find out
what the user wants, i.e.:</p>
<ul class="simple">
<li>which type of session (listening or connected to a ServiceDirectory)</li>
<li>on which address</li>
</ul>
<p>And then it initializes a session accordingly.</p>
<div class="highlight-cpp"><div class="highlight"><pre><span class="cp">#include &lt;qi/applicationsession.hpp&gt;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">**</span> <span class="n">argv</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">qi</span><span class="o">::</span><span class="n">ApplicationSession</span> <span class="n">app</span><span class="p">(</span><span class="n">argc</span><span class="p">,</span> <span class="n">argv</span><span class="p">);</span>
  <span class="n">app</span><span class="p">.</span><span class="n">start</span><span class="p">();</span>
  <span class="n">qi</span><span class="o">::</span><span class="n">SessionPtr</span> <span class="n">session</span> <span class="o">=</span> <span class="n">app</span><span class="p">.</span><span class="n">session</span><span class="p">();</span>

  <span class="n">session</span><span class="o">-&gt;</span><span class="n">loadService</span><span class="p">(</span><span class="s">&quot;catsimulator.Cat&quot;</span><span class="p">);</span>

  <span class="n">app</span><span class="p">.</span><span class="n">run</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="manual-way">
<span id="guide-cxx-service-manual"></span><h3>Manual way<a class="headerlink" href="#manual-way" title="Permalink to this headline">¶</a></h3>
<p>If you don&#8217;t want to use a module at all but simply make a binary that publishes
your service, you can just do, similarly to the example above:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span class="cp">#include &lt;qi/applicationsession.hpp&gt;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">**</span> <span class="n">argv</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">qi</span><span class="o">::</span><span class="n">ApplicationSession</span> <span class="n">app</span><span class="p">(</span><span class="n">argc</span><span class="p">,</span> <span class="n">argv</span><span class="p">);</span>
  <span class="n">app</span><span class="p">.</span><span class="n">startSession</span><span class="p">();</span>
  <span class="n">qi</span><span class="o">::</span><span class="n">SessionPtr</span> <span class="n">session</span> <span class="o">=</span> <span class="n">app</span><span class="p">.</span><span class="n">session</span><span class="p">();</span>

  <span class="k">auto</span> <span class="n">cat</span> <span class="o">=</span> <span class="n">boost</span><span class="o">::</span><span class="n">make_shared</span><span class="o">&lt;</span><span class="n">Cat</span><span class="o">&gt;</span><span class="p">();</span>
  <span class="n">session</span><span class="o">-&gt;</span><span class="n">registerService</span><span class="p">(</span><span class="s">&quot;CatService&quot;</span><span class="p">,</span> <span class="n">cat</span><span class="p">);</span>

  <span class="n">app</span><span class="p">.</span><span class="n">run</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Then, you don&#8217;t need to use <code class="docutils literal"><span class="pre">qi_create_module</span></code> in your CMake file, you can
just use <code class="docutils literal"><span class="pre">qi_create_bin</span></code>.</p>
<p>The session will keep a reference on cat until it is closed or CatService is
unregistered.</p>
</div>
</div>
</div>


              </div>
            </div>
          </div>
          
            
              <div class="yui-b" id="sidebar">
                
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../contents.html">Site map</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../news/index.html">What’s new</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../../index_dev_guide.html">NAOqi - Developer guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../getting_started/index.html">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../getting_started/creating_applications/index.html">Creating an application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../ref/life/index.html">Programming for a living robot</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../getting_started/index_tuto.html">Other tutorials</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../software/choregraphe/index.html">Choregraphe Suite</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../programming_index.html">SDKs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../naoqi/index.html">NAOqi APIs</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">qi Framework</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../api/index.html">API References</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html">Hands-on Guide</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="cxx-client.html">C++ - How to write a qimessaging client</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="">C++ - How to write a qimessaging service</a><ul class="simple">
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="cxx-register-types.html">Registering types in the type system</a></li>
<li class="toctree-l4"><a class="reference internal" href="cxx-async.html">Asynchronous operations</a></li>
<li class="toctree-l4"><a class="reference internal" href="cxx-log.html">Using qi::log</a></li>
<li class="toctree-l4"><a class="reference internal" href="cxx-log-client.html">How to receive and send logs</a></li>
<li class="toctree-l4"><a class="reference internal" href="cxx-linguist.html">Internationalization Guide</a></li>
<li class="toctree-l4"><a class="reference internal" href="cxx-path.html">Handling Paths Guide</a></li>
<li class="toctree-l4"><a class="reference internal" href="cxx-qilang.html">Using qilang to generate strongly-typed proxies</a></li>
<li class="toctree-l4"><a class="reference internal" href="py-client.html">Python - How to write a qimessaging client</a></li>
<li class="toctree-l4"><a class="reference internal" href="py-service.html">Python - How to write a qimessaging service</a></li>
<li class="toctree-l4"><a class="reference internal" href="py-log-client.html">Python - How to receive and send logs</a></li>
<li class="toctree-l4"><a class="reference internal" href="py-tonaoqi2.html">How to switch from NAOqi to qi Framework</a></li>
<li class="toctree-l4"><a class="reference internal" href="qi-app-arguments.html">qi application arguments</a></li>
<li class="toctree-l4"><a class="reference internal" href="qicli.html">Using qicli commands</a></li>
<li class="toctree-l4"><a class="reference internal" href="qilaunch.html">Using qilaunch</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../design/index.html">Design Documents</a></li>
<li class="toctree-l3"><a class="reference internal" href="../internal/typesystem.html">Type system</a></li>
<li class="toctree-l3"><a class="reference internal" href="../internal/object.html">Object type erasure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../internal/template.html">Registering template types</a></li>
<li class="toctree-l3"><a class="reference internal" href="../internal/call.html">Call code path</a></li>
<li class="toctree-l3"><a class="reference internal" href="../internal/messaging.html">Messaging system</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changelog/index.html">qi Framework - ChangeLog</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changelog/interface.html">qi Framework - Deprecation history</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../ref/index.html">Former NAOqi Framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../simulators/simulator_index.html">Simulators</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../home_nao.html"><strong>NAO</strong> - Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../home_pepper.html"><strong>Pepper</strong> - Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../home_romeo.html"><strong>Romeo</strong> - Documentation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../legal/notice.html">Legal notices</a></li>
</ul>

    <div id="on-this-page" style="display:none;">
        <h2 id="otp-link">On this page</h2>
        <div id="toc-list">
            <ul>
<li><a class="reference internal" href="#">C++ - How to write a qimessaging service</a><ul>
<li><a class="reference internal" href="#limitations">Limitations</a></li>
<li><a class="reference internal" href="#write-your-service">Write your service</a></li>
<li><a class="reference internal" href="#running-your-service">Running your service</a><ul>
<li><a class="reference internal" href="#fully-automated-way">Fully automated way</a></li>
<li><a class="reference internal" href="#semi-automated-way">Semi-automated way</a></li>
<li><a class="reference internal" href="#manual-way">Manual way</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
    </div>
        </div>
      </div>
              </div>
            
          
        </div>
    </main>
    <a href="#0" class="cd-top"></a>
    <div id="ft">
      
      <a title="Glossary" href="../../../glossary.html">Glossary</a>
      <a title="Site map" href="../../../contents.html">Site map</a>
      <a title="Index" href="../../../genindex.html">Index</a>
      <a title="Support" target="_blank" href="https://account.aldebaran.com/support/">Support</a>
      <a title="Contact" target="_blank" href="https://www.aldebaran.com/en/contact">Contact</a>
      <a title="Legal Notices" href="../../../legal/notice.html">Legal Notices</a>
      
      
      <img src="https://www.ald.softbankrobotics.com/sites/aldebaran/files/logos-picture/2016_digital_logo_sbr_112x31_0.png" alt="">
    </div>
  </div>

      <div class="clearer"></div>
    </div>
  </body>
</html>