<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Key concepts &mdash; Aldebaran 2.5.9.8-r3 documentation</title>
    
    <link rel="stylesheet" href="../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '2.5.9.8-r3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="Aldebaran 2.5.9.8-r3 documentation" href="../../index.html" />
    <link rel="up" title="Former NAOqi Framework" href="../../ref/index.html" />
    <link rel="next" title="C++ Class Index" href="../../cpp-classindex.html" />
    <link rel="prev" title="Former NAOqi Framework" href="../../ref/index.html" />
 
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-115894784-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-115894784-1');
</script>

<script type="text/javascript" src="https://cloud.aldebaran-robotics.com/static/js/topbar.js"></script>
<style>
div#hd::after {
  
  
  content: 'NAOqi 2.5';
  
  
  
  position: absolute;
  margin-top: -54px;
  right: -4px;
  font-size: 125%;
  -webkit-transform: rotate(45deg);
  -moz-transform: rotate(45deg);
  -o-transform: rotate(45deg);
  transform: rotate(45deg);
  }
</style>
<script>

$(window).ready(function () {

    //Aldebaran Top bar
     var barLinks = [];
     barLinks.push({'name':'Aldebaran Site', 'url':'http://www.aldebaran-robotics.com', 'click':'', 'img':'https://cloud.aldebaran-robotics.com/static/img/aldeb.png'});
     barLinks.push({'name':'Documentation', 'url':'../../index.html', 'click':"", 'img':''});
     function ShowBar(name, email, usertype) {
        var barParams = {
            'name'    : name,
            'email'   : email,
            'usertype': usertype,
            'loginfct': "FctLogin"
        }
        try { InitTopBar(barParams, barLinks); } catch (e) { console.log('Top Bar Init Failed'); }
    }
    ShowBar();

    var width_label = 0;
    $('dl.function-index dt > span').each(function () {
        $(this).css('width', 'auto');
        width_label = Math.max(width_label, $(this).width());
    }).width(width_label + 30);
    $('.sig-paren').width('auto');

    // first level navigation

    var buttonIds = [".naoqi", "pepper", "nao", "romeo"];
    for(id in buttonIds){
        $(id).removeClass("active");
    }
    //Aldebaran project
    if ($('.toctree-l1.current a').text().indexOf("Romeo ")==0){
        $(".romeo").toggleClass('active');
    }
    else if ($('.toctree-l1.current a').text().indexOf("Pepper ")==0){
        $(".pepper").toggleClass('active');
    }
    else if ($('.toctree-l1.current a').text().indexOf("NAO ")==0){
        $(".nao").toggleClass('active');
    }
    else if($('.toctree-l1.current a').text().indexOf("NAOqi ")==0){
        $(".naoqi").toggleClass('active');
    }

    //qibuild project
    if ($('.toctree-l1.current a').text().indexOf("Welcome to qiBuild documentation !")==0){
        $(".beginner").toggleClass('active');
    }
    else if ($('.toctree-l1.current a').text().indexOf("Advanced qibuild usage")==0){
        $(".advanced").toggleClass('active');
    }
    else if ($('.toctree-l1.current a').text().indexOf("Hacking qiBuild")==0){
        $(".hacking").toggleClass('active');
    }

    // add "On this page", add cssClasses
    if($('.yui-g .section h1').length > 0){
        $('.yui-g .section h1:first').addClass("titleWrapper");
        $('.yui-g .section h1:first').after($("#on-this-page").html())
    }
    else if($('.yui-g .section h2').length > 0){
        $('.yui-g .section h2:first').addClass("titleWrapper");
        $('.yui-g .section h2:first').after($("#on-this-page").html())
    }
    //remove first element on this page
    if($("#on-this-page").length > 0){
        var doms = $(".yui-g .section :first").nextUntil("#toc-list");
        doms = doms.add($("#toc-list"));
        doms.wrapAll('<div class="iNavWrapper"></div>');
        $("#toc-list ul li a:first").remove()
        $("#toc-list ul:first").replaceWith($("#toc-list ul li").html())
    }
    $("#toc-list").hide();
    $("#otp-link").click(function(){
        $("#toc-list").slideToggle();
        if($("h2#otp-link").hasClass("change-before")){
            $("h2#otp-link").removeClass("change-before")
        }
        else{
            $("h2#otp-link").addClass("change-before")
        }
    });

    if($("a.current.reference.internal").length>0){
        var left = $("a.current.reference.internal").position().left-1;
        var width = $("a.current.reference.internal").width();
        var offset = 51;
        var sidebarWidth = 339;
        var right = sidebarWidth - (left + width + offset);
        if($("a.current.reference.internal").height() <= 15){
            $("a.current.reference.internal").css("white-space","nowrap");
            $("a.current.reference.internal").css({"backgroundColor":"#0F2939","paddingTop":"2px", "paddingBottom":"2px","paddingLeft":left+"px","marginLeft":"-"+left+"px", "paddingRight":right+"px","marginRight":"-"+right+"px", "boxShadow":"0px 0px 1px rgb(15, 41, 57)"});
        }
        else{
            $("a.current.reference.internal").css({"float":"right","backgroundColor":"#0F2939","paddingTop":"2px", "paddingBottom":"2px","paddingLeft":left+"px","marginLeft":"-"+left+"px", "paddingRight":right+"px","marginRight":"-"+right+"px", "boxShadow":"0px 0px 1px rgb(15, 41, 57)"});
            left = $("a.current.reference.internal").position().left-1;
            width = $("a.current.reference.internal").width();
            right = sidebarWidth - (left + width + offset);
            $("a.current.reference.internal").css({"float":"right","backgroundColor":"#0F2939","paddingTop":"2px", "paddingBottom":"2px","paddingLeft":left+"px","marginLeft":"-"+left+"px", "paddingRight":right+"px","marginRight":"-"+right+"px", "boxShadow":"0px 0px 1px rgb(15, 41, 57)"});
        }
        $("a.current.reference.internal").parent().css("list-style-type","none");
    }

    //back to top
    var offset = 300,
    //browser window scroll (in pixels) after which the "back to top" link opacity is reduced
    offset_opacity = 1200,
    //duration of the top scrolling animation (in ms)
    scroll_top_duration = 700;
    //grab the "back to top" link
    var back_to_top = $('.cd-top');

    //hide or show the "back to top" link
    $(window).scroll(function(){
        //back to top button
        ( $(this).scrollTop() > offset ) ? back_to_top.addClass('cd-is-visible') : back_to_top.removeClass('cd-is-visible cd-fade-out');
        if( $(this).scrollTop() > offset_opacity ) {
            back_to_top.addClass('cd-fade-out');
        }
    });

    //smooth scroll to top
    back_to_top.click(function(event){
        event.preventDefault();
        $('body,html').animate({
            scrollTop: 0 ,
        }, scroll_top_duration
        );
    });
    //add show source button

    //replace "go" with "search"
    $("#searchbox form input[type=submit]").val("Search")

    //trigger click on version triangle to jump to whats new
    $("#hd").click(function(e){if(e.pageX >= this.offsetWidth && e.pageY<120){$(".whatsnew")[0].click()}})
})

</script>


  </head>
  <body role="document">

    <div class="document">
  <div id="custom-doc" class="yui-t3">
    <div id="hd">
      
      <h1><a href="../../index.html">SoftBank Robotics documentation</a>
      
      
      <span><a class="whatsnew" href="../../news/index.html" >
      
          What's new in NAOqi 2.5?
      
      </a></span>
      
      </h1>
      <div id="global-nav">
        
        <a class="naoqi" title="NAOqi Developer guide" href="../../index_dev_guide.html">NAOqi</a>
        <a class="pepper" title="Pepper documentation" href="../../home_pepper.html">Pepper</a>
        <a class="nao" title="NAO documentation" href="../../home_nao.html">NAO</a>
        <a class="romeo" title="Romeo Documentation" href="../../home_romeo.html">Romeo</a>
        
        
        
        <div class="nav">
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script></div>
      </div>

    </div>
    <main class="cd-container">
        <div id="bd">
          <div id="yui-main">
            <div class="yui-b">
              <div class="yui-g" id="dev-naoqi-index">
                
  <div class="section" id="key-concepts">
<span id="naoqi-overview"></span><span id="naoqi-framework-overview"></span><h1>Key concepts<a class="headerlink" href="#key-concepts" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
<div class="section" id="what-is-naoqi-framework">
<h2>What is NAOqi Framework<a class="headerlink" href="#what-is-naoqi-framework" title="Permalink to this headline">¶</a></h2>
<p><strong>NAOqi</strong> is the name of the main software that runs on the robot and controls it.</p>
<p>The <strong>NAOqi Framework</strong> is the programming framework used to program <strong>Aldebaran</strong> robots.</p>
<p>It answers to common robotics needs including: parallelism, resources, synchronization, events.</p>
</div>
<div class="section" id="main-characteristics">
<h2>Main characteristics<a class="headerlink" href="#main-characteristics" title="Permalink to this headline">¶</a></h2>
<p>This framework allows homogeneous communication between different modules (motion,
audio, video), homogeneous programming and homogeneous information sharing.</p>
<p><strong>NAOqi</strong> framework is <a class="reference internal" href="#cross-platform"><span>Cross platform</span></a> and <a class="reference internal" href="#cross-language"><span>Cross language</span></a> that
allows you to create <a class="reference internal" href="#distributed"><span>Distributed applications</span></a>.</p>
<div class="section" id="cross-platform">
<span id="id1"></span><h3>Cross platform<a class="headerlink" href="#cross-platform" title="Permalink to this headline">¶</a></h3>
<p>The <strong>NAOqi</strong> framework can be used on <strong>Windows</strong>, <strong>Linux</strong> and <strong>MacOS</strong>.</p>
<p>It is possible to develop with <strong>NAOqi</strong> framework on <strong>Windows</strong>, <strong>Linux</strong> or <strong>Mac</strong>.</p>
<ul>
<li><p class="first">Using <strong>Python</strong>: you will be able to easily run your code both on your computer
or directly on the robot.</p>
</li>
<li><p class="first">Using <strong>C++</strong>: as it is a compiled language, you will need to compile your code
for the targeted Operating System.
So if you want to run <strong>C++</strong> code on the robot,
you will need to use a cross-compilation tool in order to generate a code able
to run on the robot Operating System: <strong>NAOqi OS</strong>.</p>
<p>Follow the step by step <a class="reference internal" href="../cpp/install_guide.html#cpp-install-guide"><span>C++ SDK - Installation Guide</span></a> guidelines, in order to
ensure you have installed all required tools.</p>
</li>
</ul>
</div>
<div class="section" id="cross-language">
<span id="id2"></span><h3>Cross language<a class="headerlink" href="#cross-language" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">Software running on the robot can be developed in <strong>C++</strong> and <strong>Python</strong>:
in both cases, programming methods are exactly the same.</p>
<a class="reference internal image-reference" href="../../_images/framework_crosslangage.png"><img alt="Cross language" src="../../_images/framework_crosslangage.png" style="width: 537px; height: 380px;" /></a>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>Beginners</strong> should start with <strong>Python</strong>. It is much easier to learn,
and should fit all their needs.</p>
<p><strong>Skilled C++ developers</strong> will, most of the time, develop:</p>
<ul class="last simple">
<li>Behaviors in <strong>Python</strong> and</li>
<li>Modules in <strong>C++</strong>.</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="section" id="distributed-applications">
<span id="distributed"></span><h3>Distributed applications<a class="headerlink" href="#distributed-applications" title="Permalink to this headline">¶</a></h3>
<p>A real time application can be, not only one executable, but also several
processes and/or modules distributed on several robots.
Whatever your choice is, the call methods are always the same.</p>
<p>Connect an executable to another robot using its IP address and port,
and all the API methods from other executables are available in exactly
the same way as with a local method.</p>
<a class="reference internal image-reference" href="../../_images/framework_communication.png"><img alt="Communication" src="../../_images/framework_communication.png" style="width: 561px; height: 478px;" /></a>
<p>Note that <strong>NAOqi</strong> makes automatically the choice between fast direct calls
(LPC) and remote calls (RPC).</p>
</div>
</div>
<div class="section" id="how-it-works">
<span id="naoqi-process"></span><h2>How it works<a class="headerlink" href="#how-it-works" title="Permalink to this headline">¶</a></h2>
<div class="section" id="introspection">
<span id="id3"></span><h3>Introspection<a class="headerlink" href="#introspection" title="Permalink to this headline">¶</a></h3>
<p>Introspection is the foundation of robot API, capabilities, monitoring and action
on monitored functions. The robot knows all the available API functions.
Unloading a library will automatically remove the corresponding API functions.
A function defined in a module can be added in the API with a BIND_METHOD
(defined in almodule.h).</p>
<p>If you bind a function - just three source code lines - you automatically
benefit from the following features:</p>
<ul class="simple">
<li>Call function in both <strong>C++</strong> and <strong>Python</strong> (see <a class="reference internal" href="#cross-language"><span>Cross language</span></a>),</li>
<li>Know if the function is being executed,</li>
<li>Execute function locally or remotely (from a computer or another robot)
(see <a class="reference internal" href="#distributed"><span>Distributed applications</span></a>),</li>
<li>Call wait, stop, isRunning on functions.</li>
</ul>
</div>
<div class="section" id="the-naoqi-process">
<h3>The NAOqi process<a class="headerlink" href="#the-naoqi-process" title="Permalink to this headline">¶</a></h3>
<p>The <strong>NAOqi</strong> executable which runs on the robot is a broker. When it starts,
it loads a preferences file called <code class="docutils literal"><span class="pre">autoload.ini</span></code> that defines which
libraries it should load. Each library contains one or more modules that use
the broker to advertise their methods.</p>
<img alt="broker, libraries and modules :height: 394 px :width: 600 px" src="../../_images/broker-libraries-modules.png" />
<p>The broker provides lookup services so that any module in the tree or across
the network can find any method that has been advertised.</p>
<p>Loading modules forms a tree of methods attached to modules, and modules
attached to a broker.</p>
<a class="reference internal image-reference" href="../../_images/broker-modules-methods.png"><img alt="broker, modules and methods" src="../../_images/broker-modules-methods.png" style="width: 600px; height: 410px;" /></a>
<div class="section" id="broker">
<span id="naoqi-broker"></span><h4>Broker<a class="headerlink" href="#broker" title="Permalink to this headline">¶</a></h4>
<p>A broker is an object that provides:</p>
<ul class="simple">
<li><strong>Directory services</strong>: allowing you to find modules and methods.</li>
<li><strong>Network access</strong>: allowing the methods of attached modules to be
called from outside the process.</li>
</ul>
<p>Most of the time, you don&#8217;t need to think about brokers. They do their work
transparently, allowing you to write code that will be the same for calls to
&#8220;local modules&#8221; (in the same process) or &#8220;remote modules&#8221; (in another
process or on another machine).</p>
</div>
<div class="section" id="proxy">
<span id="naoqi-proxy"></span><h4>Proxy<a class="headerlink" href="#proxy" title="Permalink to this headline">¶</a></h4>
<p>A proxy is an object that will behave as the module it represents.</p>
<p>For instance, if you create a proxy to the <strong>ALMotion</strong> module, you will get
an object containing all the <strong>ALMotion</strong> methods.</p>
<p>To create a proxy to a module, (and thus calling the methods of a module)
you have two choices:</p>
<ul class="simple">
<li>Simply use the name of the module. In this case, the code you are running and
the module to which you want to connect to must be in the <em>same</em> broker.
This is called a <em>local</em> call.</li>
<li>Use the name of the module, and the IP and port of a broker. In this case, the
module must be in the corresponding broker.</li>
</ul>
<p>The full difference between local and remote modules is explained in the
<a class="reference internal" href="#naoqi-local-remote-modules"><span>Local modules</span></a> section.</p>
</div>
</div>
</div>
<div class="section" id="modules">
<span id="naoqi-module"></span><h2>Modules<a class="headerlink" href="#modules" title="Permalink to this headline">¶</a></h2>
<p>Typically each Module is a class within a library. When the library is loaded
from the <code class="docutils literal"><span class="pre">autoload.ini</span></code>, it will automatically instantiate the module class.</p>
<p>In the constructor of a class that derives from <a class="reference external" href="../../ref/libalcommon/classAL_1_1ALModule.html">ALModule</a>, you can
&#8220;bind&#8221; methods. This advertises their names and method signatures to the
broker so that they become available to others.</p>
<p>A module can be either remote or local.</p>
<ul class="simple">
<li>If it is remote, it is compiled as an executable file, and can be run
outside the robot. Remote modules are easier to use and can be debugged easily
from the outside, but are less efficient in terms of speed and memory usage.</li>
<li>If it is local, it is compiled as a library, and can only be used on the
robot. However, they are more efficient than a remote module.</li>
</ul>
<p>Each module contains various methods. Among them, some methods are bound, which
means they can be called from outside the module, for example inside another
module, from an executable etc. The way to call these bound functions does not
vary if the module is remote or local: the module automatically adapts.</p>
<p>The module API can be seen from the robot web page.</p>
<div class="section" id="local-modules">
<span id="naoqi-local-remote-modules"></span><h3>Local modules<a class="headerlink" href="#local-modules" title="Permalink to this headline">¶</a></h3>
<p>Local modules are two (or more) modules launched in the same process. They speak
to each other using only <strong>ONE</strong> broker.</p>
<p>Since local modules are in the same process, they can share variables and call
each others&#8217; methods without serialization nor networking. This allow the
fastest possible communication between them.</p>
<p>If you need to do some close loop (enslavement for example), you <strong>MUST</strong> use local modules.</p>
</div>
<div class="section" id="remote-modules">
<h3>Remote modules<a class="headerlink" href="#remote-modules" title="Permalink to this headline">¶</a></h3>
<p>Remote modules are modules which communicate using the network. A remote module
needs a broker to speak to other modules. The broker is responsible for all the
networking part. You must know that remote modules work using SOAP over the network.
You <strong>cannot</strong> do fast access using remote module (direct memory access for example).</p>
</div>
<div class="section" id="connection-between-remote-modules">
<h3>Connection between remote modules<a class="headerlink" href="#connection-between-remote-modules" title="Permalink to this headline">¶</a></h3>
<p>Remote modules can speak with other modules by connecting their brokers to other modules&#8217;
brokers using a proxy.</p>
<ul class="simple">
<li>A connection <strong>Broker to Broker</strong> opens a mutual communication. Modules from
both brokers can talk to each others.</li>
<li>A <strong>Proxy to Broker</strong> connection opens a single way of communication.
The proxy can access to all modules registered to the broker <strong>BUT</strong> the modules
registered to the broker cannot access to the module that owns the proxy.</li>
</ul>
</div>
<div class="section" id="broker-to-broker-connection">
<h3>Broker to Broker connection<a class="headerlink" href="#broker-to-broker-connection" title="Permalink to this headline">¶</a></h3>
<p>You can connect two modules together by connecting their brokers.</p>
<p>For example, you have two modules B and C. When you connect their brokers, B
can access to C&#8217;s functions and C can access to B&#8217;s functions.</p>
<p>To connect modules this way you need to specify the IP address and port number
of the main broker. (<code class="docutils literal"><span class="pre">--pip</span></code>, <code class="docutils literal"><span class="pre">--pport</span></code> command line option when you start your module).
Then you can access the module by getting a proxy on it:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span class="n">AL</span><span class="o">::</span><span class="n">ALProxy</span> <span class="n">proxy</span> <span class="o">=</span> <span class="n">AL</span><span class="o">::</span><span class="n">ALProxy</span><span class="p">(</span><span class="o">&lt;</span><span class="n">modulename</span><span class="o">&gt;</span><span class="p">);</span>
</pre></div>
</div>
<p>Since module&#8217;s broker is already connected using <code class="docutils literal"><span class="pre">--pip</span></code> and <code class="docutils literal"><span class="pre">--pport</span></code>,
you do not need to specify IP address and port number when you create a proxy.</p>
</div>
<div class="section" id="proxy-to-broker-connection">
<h3>Proxy to Broker connection<a class="headerlink" href="#proxy-to-broker-connection" title="Permalink to this headline">¶</a></h3>
<p>You can connect your module to another one without specifying
<code class="docutils literal"><span class="pre">--pip</span></code> and <code class="docutils literal"><span class="pre">--pport</span></code>. To do that, you need to create a proxy inside your module
and connect it to the broker IP address and port number you want.</p>
<p>For example, you have two modules B and C. When you connect B to C just using a proxy, B can access to C functions <strong>BUT</strong> C cannot access to B functions.</p>
<div class="highlight-cpp"><div class="highlight"><pre><span class="c1">// A broker needs a name, an IP and a port to listen:</span>
<span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">brokerName</span> <span class="o">=</span> <span class="s">&quot;mybroker&quot;</span><span class="p">;</span>
<span class="c1">// NAOqi ip</span>
<span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">pip</span> <span class="o">=</span> <span class="s">&quot;127.0.0.1&quot;</span><span class="p">;</span> <span class="c1">// local NAOqi</span>
<span class="c1">// NAOqi port</span>
<span class="kt">int</span> <span class="n">pport</span> <span class="o">=</span> <span class="mi">9559</span><span class="p">;</span>

<span class="c1">// Create your own broker</span>
<span class="n">boost</span><span class="o">::</span><span class="n">shared_ptr</span><span class="o">&lt;</span><span class="n">AL</span><span class="o">::</span><span class="n">ALBroker</span><span class="o">&gt;</span> <span class="n">broker</span> <span class="o">=</span>
  <span class="n">AL</span><span class="o">::</span><span class="n">ALBroker</span><span class="o">::</span><span class="n">createBroker</span><span class="p">(</span><span class="n">brokerName</span><span class="p">,</span> <span class="s">&quot;0.0.0.0&quot;</span><span class="p">,</span> <span class="mi">54000</span><span class="p">,</span> <span class="n">pip</span><span class="p">,</span> <span class="n">pport</span><span class="p">);</span>
<span class="n">AL</span><span class="o">::</span><span class="n">ALProxy</span> <span class="n">proxy</span> <span class="o">=</span> <span class="n">AL</span><span class="o">::</span><span class="n">ALProxy</span><span class="p">(</span><span class="n">broker</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">modulename</span><span class="o">&gt;</span><span class="p">);</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="blocking-and-non-blocking-calls">
<span id="naoqi-blocking-non-blocking"></span><h2>Blocking and non-blocking calls<a class="headerlink" href="#blocking-and-non-blocking-calls" title="Permalink to this headline">¶</a></h2>
<p>NAOqi offers two ways to call methods:</p>
<ul class="simple">
<li><strong>Blocking calls</strong> Like normal method calls, simple calls are blocking - The next
instruction will be executed after the end of the previous call. All calls can
raise an exception and should be encapsulated in a try-catch block. Calls can
have return values.</li>
</ul>
<a class="reference internal image-reference" href="../../_images/blocking-call.png"><img alt="Blocking call" src="../../_images/blocking-call.png" style="width: 531px; height: 377px;" /></a>
<ul class="simple">
<li><strong>Non-blocking calls</strong> By using the <em>post</em> object of a proxy, a task is created
in a parallel thread. This enables you to do other work at the same time (e.g.
walking while talking). Each <em>post</em> call generates a <em>task id</em>.  You can
use this <em>task id</em> to check if a task is running, or wait until the task is finished.</li>
</ul>
<a class="reference internal image-reference" href="../../_images/parallel-call.png"><img alt="Non-blocking call" src="../../_images/parallel-call.png" style="width: 600px; height: 364px;" /></a>
</div>
<div class="section" id="memory">
<span id="id4"></span><h2>Memory<a class="headerlink" href="#memory" title="Permalink to this headline">¶</a></h2>
<p><strong>ALMemory</strong> is the robot memory. All modules can read or write data, subscribe on
events so as to be called when events are raised.</p>
<p>Please be aware that <strong>ALMemory</strong> is not a real-time synchronization tool. Limit
subscribe on DCM/time or motion/synchro or real time variable.</p>
<div class="section" id="almemory">
<span id="memory-almemory"></span><h3>ALMemory<a class="headerlink" href="#almemory" title="Permalink to this headline">¶</a></h3>
<p><strong>ALMemory</strong> is an array of <strong>ALValues</strong> (for further details, see: <a class="reference external" href="../../ref/libalvalue/classAL_1_1ALValue.html">ALValue</a> library).
Variable access is thread safe. We use read/write critical sections to avoid bad
performances when the memory is read.</p>
<a class="reference internal image-reference" href="../../_images/framework_memory.jpg"><img alt="NAOqi memory" src="../../_images/framework_memory.jpg" style="width: 450px; height: 242px;" /></a>
<p><strong>ALMemory</strong> contains three types of data:</p>
<ul class="simple">
<li>Data from Actuators and Sensors,</li>
<li>Event,</li>
<li>Micro-event.</li>
</ul>
<p>For further details, see: <a class="reference internal" href="../../naoqi/core/almemory.html#almemory"><span>ALMemory</span></a>.</p>
</div>
</div>
<div class="section" id="reacting-to-events">
<span id="naoqi-events"></span><h2>Reacting to events<a class="headerlink" href="#reacting-to-events" title="Permalink to this headline">¶</a></h2>
<p>A few modules expose also some <strong>events</strong>.</p>
<p>You must subscribe to event from an other module, using a callback that must
be a method of your subscriber.</p>
<p>For instance, you can have a module called <code class="docutils literal"><span class="pre">FaceReaction</span></code> containing a method
<code class="docutils literal"><span class="pre">onFaceDetected</span></code>.</p>
<p>You can subscribe the <code class="docutils literal"><span class="pre">FaceReaction</span></code> module to the <code class="docutils literal"><span class="pre">FaceDetected</span></code>
method of the <code class="docutils literal"><span class="pre">ALFaceRecognition</span></code> module with the <code class="docutils literal"><span class="pre">onFaceDetected</span></code> callback.</p>
<p>This will cause the face detection algorithm to run, and every time a face
is detected, the <code class="docutils literal"><span class="pre">onFaceDetected</span></code> callback will be called.</p>
<p>To see how this is done in Python, please see the
<a class="reference internal" href="../python/reacting_to_events.html#python-reacting-to-events"><span>Reacting to events</span></a> section.</p>
</div>
</div>


              </div>
            </div>
          </div>
          
            
              <div class="yui-b" id="sidebar">
                
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <ul>
<li class="toctree-l1"><a class="reference internal" href="../../contents.html">Site map</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../news/index.html">What’s new</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../index_dev_guide.html">NAOqi - Developer guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../getting_started/index.html">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../getting_started/creating_applications/index.html">Creating an application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ref/life/index.html">Programming for a living robot</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../getting_started/index_tuto.html">Other tutorials</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../software/choregraphe/index.html">Choregraphe Suite</a></li>
<li class="toctree-l2"><a class="reference internal" href="../programming_index.html">SDKs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../naoqi/index.html">NAOqi APIs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libqi/index.html">qi Framework</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../ref/index.html">Former NAOqi Framework</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="">Key concepts</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../cpp-classindex.html">&gt; C++ Classes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../cpp-funcindex.html">&gt; C++ Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../naoqi-eventindex.html">&gt; NAOqi Events</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../naoqi-memoryindex.html">&gt; NAOqi Memory Keys</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ref/cpp-api.html">C++ library APIs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../simulators/simulator_index.html">Simulators</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../home_nao.html"><strong>NAO</strong> - Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../home_pepper.html"><strong>Pepper</strong> - Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../home_romeo.html"><strong>Romeo</strong> - Documentation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../legal/notice.html">Legal notices</a></li>
</ul>

    <div id="on-this-page" style="display:none;">
        <h2 id="otp-link">On this page</h2>
        <div id="toc-list">
            <ul>
<li><a class="reference internal" href="#">Key concepts</a><ul>
<li><a class="reference internal" href="#what-is-naoqi-framework">What is NAOqi Framework</a></li>
<li><a class="reference internal" href="#main-characteristics">Main characteristics</a><ul>
<li><a class="reference internal" href="#cross-platform">Cross platform</a></li>
<li><a class="reference internal" href="#cross-language">Cross language</a></li>
<li><a class="reference internal" href="#distributed-applications">Distributed applications</a></li>
</ul>
</li>
<li><a class="reference internal" href="#how-it-works">How it works</a><ul>
<li><a class="reference internal" href="#introspection">Introspection</a></li>
<li><a class="reference internal" href="#the-naoqi-process">The NAOqi process</a><ul>
<li><a class="reference internal" href="#broker">Broker</a></li>
<li><a class="reference internal" href="#proxy">Proxy</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#modules">Modules</a><ul>
<li><a class="reference internal" href="#local-modules">Local modules</a></li>
<li><a class="reference internal" href="#remote-modules">Remote modules</a></li>
<li><a class="reference internal" href="#connection-between-remote-modules">Connection between remote modules</a></li>
<li><a class="reference internal" href="#broker-to-broker-connection">Broker to Broker connection</a></li>
<li><a class="reference internal" href="#proxy-to-broker-connection">Proxy to Broker connection</a></li>
</ul>
</li>
<li><a class="reference internal" href="#blocking-and-non-blocking-calls">Blocking and non-blocking calls</a></li>
<li><a class="reference internal" href="#memory">Memory</a><ul>
<li><a class="reference internal" href="#almemory">ALMemory</a></li>
</ul>
</li>
<li><a class="reference internal" href="#reacting-to-events">Reacting to events</a></li>
</ul>
</li>
</ul>

        </div>
    </div>
        </div>
      </div>
              </div>
            
          
        </div>
    </main>
    <a href="#0" class="cd-top"></a>
    <div id="ft">
      
      <a title="Glossary" href="../../glossary.html">Glossary</a>
      <a title="Site map" href="../../contents.html">Site map</a>
      <a title="Index" href="../../genindex.html">Index</a>
      <a title="Support" target="_blank" href="https://account.aldebaran.com/support/">Support</a>
      <a title="Contact" target="_blank" href="https://www.aldebaran.com/en/contact">Contact</a>
      <a title="Legal Notices" href="../../legal/notice.html">Legal Notices</a>
      
      
      <img src="https://www.ald.softbankrobotics.com/sites/aldebaran/files/logos-picture/2016_digital_logo_sbr_112x31_0.png" alt="">
    </div>
  </div>

      <div class="clearer"></div>
    </div>
  </body>
</html>