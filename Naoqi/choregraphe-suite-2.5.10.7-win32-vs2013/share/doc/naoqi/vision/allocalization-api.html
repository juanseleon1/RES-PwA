<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>ALLocalization API &mdash; Aldebaran 2.5.9.8-r3 documentation</title>
    
    <link rel="stylesheet" href="../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '2.5.9.8-r3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="Aldebaran 2.5.9.8-r3 documentation" href="../../index.html" />
    <link rel="up" title="ALLocalization" href="allocalization.html" />
    <link rel="next" title="ALLocalization Tutorial" href="allocalization-tuto.html" />
    <link rel="prev" title="ALLocalization" href="allocalization.html" />
 
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-115894784-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-115894784-1');
</script>

<script type="text/javascript" src="https://cloud.aldebaran-robotics.com/static/js/topbar.js"></script>
<style>
div#hd::after {
  
  
  content: 'NAOqi 2.5';
  
  
  
  position: absolute;
  margin-top: -54px;
  right: -4px;
  font-size: 125%;
  -webkit-transform: rotate(45deg);
  -moz-transform: rotate(45deg);
  -o-transform: rotate(45deg);
  transform: rotate(45deg);
  }
</style>
<script>

$(window).ready(function () {

    //Aldebaran Top bar
     var barLinks = [];
     barLinks.push({'name':'Aldebaran Site', 'url':'http://www.aldebaran-robotics.com', 'click':'', 'img':'https://cloud.aldebaran-robotics.com/static/img/aldeb.png'});
     barLinks.push({'name':'Documentation', 'url':'../../index.html', 'click':"", 'img':''});
     function ShowBar(name, email, usertype) {
        var barParams = {
            'name'    : name,
            'email'   : email,
            'usertype': usertype,
            'loginfct': "FctLogin"
        }
        try { InitTopBar(barParams, barLinks); } catch (e) { console.log('Top Bar Init Failed'); }
    }
    ShowBar();

    var width_label = 0;
    $('dl.function-index dt > span').each(function () {
        $(this).css('width', 'auto');
        width_label = Math.max(width_label, $(this).width());
    }).width(width_label + 30);
    $('.sig-paren').width('auto');

    // first level navigation

    var buttonIds = [".naoqi", "pepper", "nao", "romeo"];
    for(id in buttonIds){
        $(id).removeClass("active");
    }
    //Aldebaran project
    if ($('.toctree-l1.current a').text().indexOf("Romeo ")==0){
        $(".romeo").toggleClass('active');
    }
    else if ($('.toctree-l1.current a').text().indexOf("Pepper ")==0){
        $(".pepper").toggleClass('active');
    }
    else if ($('.toctree-l1.current a').text().indexOf("NAO ")==0){
        $(".nao").toggleClass('active');
    }
    else if($('.toctree-l1.current a').text().indexOf("NAOqi ")==0){
        $(".naoqi").toggleClass('active');
    }

    //qibuild project
    if ($('.toctree-l1.current a').text().indexOf("Welcome to qiBuild documentation !")==0){
        $(".beginner").toggleClass('active');
    }
    else if ($('.toctree-l1.current a').text().indexOf("Advanced qibuild usage")==0){
        $(".advanced").toggleClass('active');
    }
    else if ($('.toctree-l1.current a').text().indexOf("Hacking qiBuild")==0){
        $(".hacking").toggleClass('active');
    }

    // add "On this page", add cssClasses
    if($('.yui-g .section h1').length > 0){
        $('.yui-g .section h1:first').addClass("titleWrapper");
        $('.yui-g .section h1:first').after($("#on-this-page").html())
    }
    else if($('.yui-g .section h2').length > 0){
        $('.yui-g .section h2:first').addClass("titleWrapper");
        $('.yui-g .section h2:first').after($("#on-this-page").html())
    }
    //remove first element on this page
    if($("#on-this-page").length > 0){
        var doms = $(".yui-g .section :first").nextUntil("#toc-list");
        doms = doms.add($("#toc-list"));
        doms.wrapAll('<div class="iNavWrapper"></div>');
        $("#toc-list ul li a:first").remove()
        $("#toc-list ul:first").replaceWith($("#toc-list ul li").html())
    }
    $("#toc-list").hide();
    $("#otp-link").click(function(){
        $("#toc-list").slideToggle();
        if($("h2#otp-link").hasClass("change-before")){
            $("h2#otp-link").removeClass("change-before")
        }
        else{
            $("h2#otp-link").addClass("change-before")
        }
    });

    if($("a.current.reference.internal").length>0){
        var left = $("a.current.reference.internal").position().left-1;
        var width = $("a.current.reference.internal").width();
        var offset = 51;
        var sidebarWidth = 339;
        var right = sidebarWidth - (left + width + offset);
        if($("a.current.reference.internal").height() <= 15){
            $("a.current.reference.internal").css("white-space","nowrap");
            $("a.current.reference.internal").css({"backgroundColor":"#0F2939","paddingTop":"2px", "paddingBottom":"2px","paddingLeft":left+"px","marginLeft":"-"+left+"px", "paddingRight":right+"px","marginRight":"-"+right+"px", "boxShadow":"0px 0px 1px rgb(15, 41, 57)"});
        }
        else{
            $("a.current.reference.internal").css({"float":"right","backgroundColor":"#0F2939","paddingTop":"2px", "paddingBottom":"2px","paddingLeft":left+"px","marginLeft":"-"+left+"px", "paddingRight":right+"px","marginRight":"-"+right+"px", "boxShadow":"0px 0px 1px rgb(15, 41, 57)"});
            left = $("a.current.reference.internal").position().left-1;
            width = $("a.current.reference.internal").width();
            right = sidebarWidth - (left + width + offset);
            $("a.current.reference.internal").css({"float":"right","backgroundColor":"#0F2939","paddingTop":"2px", "paddingBottom":"2px","paddingLeft":left+"px","marginLeft":"-"+left+"px", "paddingRight":right+"px","marginRight":"-"+right+"px", "boxShadow":"0px 0px 1px rgb(15, 41, 57)"});
        }
        $("a.current.reference.internal").parent().css("list-style-type","none");
    }

    //back to top
    var offset = 300,
    //browser window scroll (in pixels) after which the "back to top" link opacity is reduced
    offset_opacity = 1200,
    //duration of the top scrolling animation (in ms)
    scroll_top_duration = 700;
    //grab the "back to top" link
    var back_to_top = $('.cd-top');

    //hide or show the "back to top" link
    $(window).scroll(function(){
        //back to top button
        ( $(this).scrollTop() > offset ) ? back_to_top.addClass('cd-is-visible') : back_to_top.removeClass('cd-is-visible cd-fade-out');
        if( $(this).scrollTop() > offset_opacity ) {
            back_to_top.addClass('cd-fade-out');
        }
    });

    //smooth scroll to top
    back_to_top.click(function(event){
        event.preventDefault();
        $('body,html').animate({
            scrollTop: 0 ,
        }, scroll_top_duration
        );
    });
    //add show source button

    //replace "go" with "search"
    $("#searchbox form input[type=submit]").val("Search")

    //trigger click on version triangle to jump to whats new
    $("#hd").click(function(e){if(e.pageX >= this.offsetWidth && e.pageY<120){$(".whatsnew")[0].click()}})
})

</script>


  </head>
  <body role="document">

    <div class="document">
  <div id="custom-doc" class="yui-t3">
    <div id="hd">
      
      <h1><a href="../../index.html">SoftBank Robotics documentation</a>
      
      
      <span><a class="whatsnew" href="../../news/index.html" >
      
          What's new in NAOqi 2.5?
      
      </a></span>
      
      </h1>
      <div id="global-nav">
        
        <a class="naoqi" title="NAOqi Developer guide" href="../../index_dev_guide.html">NAOqi</a>
        <a class="pepper" title="Pepper documentation" href="../../home_pepper.html">Pepper</a>
        <a class="nao" title="NAO documentation" href="../../home_nao.html">NAO</a>
        <a class="romeo" title="Romeo Documentation" href="../../home_romeo.html">Romeo</a>
        
        
        
        <div class="nav">
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script></div>
      </div>

    </div>
    <main class="cd-container">
        <div id="bd">
          <div id="yui-main">
            <div class="yui-b">
              <div class="yui-g" id="naoqi-vision-allocalization-api">
                
  <div class="section" id="allocalization-api">
<span id="id1"></span><h1>ALLocalization API<a class="headerlink" href="#allocalization-api" title="Permalink to this headline">¶</a></h1>
<p><a class="reference internal" href="index.html#naoqi-vision"><span>NAOqi Vision</span></a> - <a class="reference internal" href="allocalization.html#allocalization"><span>Overview</span></a> | API |
<a class="reference internal" href="allocalization-tuto.html#allocalization-tuto"><span>Tutorial</span></a> | <a class="reference internal" href="allocalization_advanced.html#allocalization-adv"><span>Advanced</span></a></p>
<hr class="docutils" />
<p>Namespace : <strong>AL</strong></p>
<div class="highlight-cpp"><div class="highlight"><pre><span class="cp">#include &lt;alproxies/allocalizationproxy.h&gt;</span>
</pre></div>
</div>
<div class="section" id="method-list">
<h2>Method list<a class="headerlink" href="#method-list" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ALLocalizationProxy">
<em class="property">class </em><code class="descname">ALLocalizationProxy</code><a class="headerlink" href="#ALLocalizationProxy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<ul class="simple">
<li>As any module, this module inherits methods from <a class="reference internal" href="../core/almodule-api.html#almodule-api"><span>ALModule API</span></a>.</li>
<li>It also has the following specific methods:</li>
</ul>
<p><strong>Import/Export</strong></p>
<ul class="simple">
<li><a class="reference internal" href="#ALLocalizationProxy::clear__ssCR" title="ALLocalizationProxy::clear"><code class="xref cpp cpp-func docutils literal"><span class="pre">ALLocalizationProxy::clear</span></code></a></li>
<li><a class="reference internal" href="#ALLocalizationProxy::load__ssCR" title="ALLocalizationProxy::load"><code class="xref cpp cpp-func docutils literal"><span class="pre">ALLocalizationProxy::load</span></code></a></li>
<li><a class="reference internal" href="#ALLocalizationProxy::save__ssCR" title="ALLocalizationProxy::save"><code class="xref cpp cpp-func docutils literal"><span class="pre">ALLocalizationProxy::save</span></code></a></li>
</ul>
<p><strong>Localization</strong></p>
<ul class="simple">
<li><a class="reference internal" href="#ALLocalizationProxy::learnHome" title="ALLocalizationProxy::learnHome"><code class="xref cpp cpp-func docutils literal"><span class="pre">ALLocalizationProxy::learnHome</span></code></a></li>
<li><a class="reference internal" href="#ALLocalizationProxy::getRobotPosition__b" title="ALLocalizationProxy::getRobotPosition"><code class="xref cpp cpp-func docutils literal"><span class="pre">ALLocalizationProxy::getRobotPosition</span></code></a></li>
<li><a class="reference internal" href="#ALLocalizationProxy::goToHome" title="ALLocalizationProxy::goToHome"><code class="xref cpp cpp-func docutils literal"><span class="pre">ALLocalizationProxy::goToHome</span></code></a></li>
<li><a class="reference internal" href="#ALLocalizationProxy::stopAll" title="ALLocalizationProxy::stopAll"><code class="xref cpp cpp-func docutils literal"><span class="pre">ALLocalizationProxy::stopAll</span></code></a></li>
<li><a class="reference internal" href="#ALLocalizationProxy::isRelocalizationRequired" title="ALLocalizationProxy::isRelocalizationRequired"><code class="xref cpp cpp-func docutils literal"><span class="pre">ALLocalizationProxy::isRelocalizationRequired</span></code></a></li>
<li><a class="reference internal" href="#ALLocalizationProxy::isDataAvailable" title="ALLocalizationProxy::isDataAvailable"><code class="xref cpp cpp-func docutils literal"><span class="pre">ALLocalizationProxy::isDataAvailable</span></code></a></li>
<li><a class="reference internal" href="#ALLocalizationProxy::getMessageFromErrorCode__iCR" title="ALLocalizationProxy::getMessageFromErrorCode"><code class="xref cpp cpp-func docutils literal"><span class="pre">ALLocalizationProxy::getMessageFromErrorCode</span></code></a></li>
<li><a class="reference internal" href="#ALLocalizationProxy::goToPosition__floatCR" title="ALLocalizationProxy::goToPosition"><code class="xref cpp cpp-func docutils literal"><span class="pre">ALLocalizationProxy::goToPosition</span></code></a></li>
<li><a class="reference internal" href="#ALLocalizationProxy::getRobotOrientation__b" title="ALLocalizationProxy::getRobotOrientation"><code class="xref cpp cpp-func docutils literal"><span class="pre">ALLocalizationProxy::getRobotOrientation</span></code></a></li>
</ul>
</div>
<div class="section" id="events-list">
<h2>Events List<a class="headerlink" href="#events-list" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference internal" href="#ALLocalization/GoToBegin" title="ALLocalization/GoToBegin"><code class="xref naoqi naoqi-event docutils literal"><span class="pre">ALLocalization/GoToBegin()</span></code></a></li>
<li><a class="reference internal" href="#ALLocalization/GoToNextMove" title="ALLocalization/GoToNextMove"><code class="xref naoqi naoqi-event docutils literal"><span class="pre">ALLocalization/GoToNextMove()</span></code></a></li>
<li><a class="reference internal" href="#ALLocalization/GoToSuccess" title="ALLocalization/GoToSuccess"><code class="xref naoqi naoqi-event docutils literal"><span class="pre">ALLocalization/GoToSuccess()</span></code></a></li>
<li><a class="reference internal" href="#ALLocalization/GoToFailed" title="ALLocalization/GoToFailed"><code class="xref naoqi naoqi-event docutils literal"><span class="pre">ALLocalization/GoToFailed()</span></code></a></li>
<li><a class="reference internal" href="#ALLocalization/GoToLost" title="ALLocalization/GoToLost"><code class="xref naoqi naoqi-event docutils literal"><span class="pre">ALLocalization/GoToLost()</span></code></a></li>
<li><a class="reference internal" href="#ALLocalization/LocalizeBegin" title="ALLocalization/LocalizeBegin"><code class="xref naoqi naoqi-event docutils literal"><span class="pre">ALLocalization/LocalizeBegin()</span></code></a></li>
<li><a class="reference internal" href="#ALLocalization/LocalizeSuccess" title="ALLocalization/LocalizeSuccess"><code class="xref naoqi naoqi-event docutils literal"><span class="pre">ALLocalization/LocalizeSuccess()</span></code></a></li>
<li><a class="reference internal" href="#ALLocalization/LocalizeLost" title="ALLocalization/LocalizeLost"><code class="xref naoqi naoqi-event docutils literal"><span class="pre">ALLocalization/LocalizeLost()</span></code></a></li>
</ul>
<p><strong>Advanced</strong></p>
<ul class="simple">
<li><a class="reference internal" href="#ALLocalization/OdometryBegin" title="ALLocalization/OdometryBegin"><code class="xref naoqi naoqi-event docutils literal"><span class="pre">ALLocalization/OdometryBegin()</span></code></a></li>
<li><a class="reference internal" href="#ALLocalization/OdometryInsufficient" title="ALLocalization/OdometryInsufficient"><code class="xref naoqi naoqi-event docutils literal"><span class="pre">ALLocalization/OdometryInsufficient()</span></code></a></li>
<li><a class="reference internal" href="#ALLocalization/HalfScanBegin" title="ALLocalization/HalfScanBegin"><code class="xref naoqi naoqi-event docutils literal"><span class="pre">ALLocalization/HalfScanBegin()</span></code></a></li>
<li><a class="reference internal" href="#ALLocalization/HalfScanInsufficient" title="ALLocalization/HalfScanInsufficient"><code class="xref naoqi naoqi-event docutils literal"><span class="pre">ALLocalization/HalfScanInsufficient()</span></code></a></li>
<li><a class="reference internal" href="#ALLocalization/HalfScanSuccess" title="ALLocalization/HalfScanSuccess"><code class="xref naoqi naoqi-event docutils literal"><span class="pre">ALLocalization/HalfScanSuccess()</span></code></a></li>
<li><a class="reference internal" href="#ALLocalization/FullScanBegin" title="ALLocalization/FullScanBegin"><code class="xref naoqi naoqi-event docutils literal"><span class="pre">ALLocalization/FullScanBegin()</span></code></a></li>
<li><a class="reference internal" href="#ALLocalization/UTurnEnd" title="ALLocalization/UTurnEnd"><code class="xref naoqi naoqi-event docutils literal"><span class="pre">ALLocalization/UTurnEnd()</span></code></a></li>
<li><a class="reference internal" href="#ALLocalization/FullScanInsufficient" title="ALLocalization/FullScanInsufficient"><code class="xref naoqi naoqi-event docutils literal"><span class="pre">ALLocalization/FullScanInsufficient()</span></code></a></li>
<li><a class="reference internal" href="#ALLocalization/FullScanSuccess" title="ALLocalization/FullScanSuccess"><code class="xref naoqi naoqi-event docutils literal"><span class="pre">ALLocalization/FullScanSuccess()</span></code></a></li>
<li><a class="reference internal" href="#ALLocalization/LocalizeDirectionBegin" title="ALLocalization/LocalizeDirectionBegin"><code class="xref naoqi naoqi-event docutils literal"><span class="pre">ALLocalization/LocalizeDirectionBegin()</span></code></a></li>
<li><a class="reference internal" href="#ALLocalization/LocalizeDirectionLost" title="ALLocalization/LocalizeDirectionLost"><code class="xref naoqi naoqi-event docutils literal"><span class="pre">ALLocalization/LocalizeDirectionLost()</span></code></a></li>
<li><a class="reference internal" href="#ALLocalization/LocalizeDirectionSuccess" title="ALLocalization/LocalizeDirectionSuccess"><code class="xref naoqi naoqi-event docutils literal"><span class="pre">ALLocalization/LocalizeDirectionSuccess()</span></code></a></li>
<li><a class="reference internal" href="#ALLocalization/StartingComputation" title="ALLocalization/StartingComputation"><code class="xref naoqi naoqi-event docutils literal"><span class="pre">ALLocalization/StartingComputation()</span></code></a></li>
<li><a class="reference internal" href="#ALLocalization/StoppingComputation" title="ALLocalization/StoppingComputation"><code class="xref naoqi naoqi-event docutils literal"><span class="pre">ALLocalization/StoppingComputation()</span></code></a></li>
</ul>
</div>
<div class="section" id="methods">
<h2>Methods<a class="headerlink" href="#methods" title="Permalink to this headline">¶</a></h2>
<div class="section" id="import-export">
<h3>Import/Export<a class="headerlink" href="#import-export" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="ALLocalizationProxy::clear__ssCR">
<a class="reference internal" href="../stdtypes.html#i" title="int">int</a> <code class="descclassname">ALLocalizationProxy::</code><code class="descname">clear</code><span class="sig-paren">(</span><a class="reference internal" href="../stdtypes.html#ss" title="std::string">const std::string&amp;</a> <em>pDirectory</em><span class="sig-paren">)</span><a class="headerlink" href="#ALLocalizationProxy::clear__ssCR" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes the data of the nodes saved in a directory.
If the directory is the default directory, the nodes are also unloaded.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>pDirectory</strong> &#8211; Path of the directory, relatively to the base path. The directory must be under the base path.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">0 if no error occurred. Otherwise please refer to <a class="reference internal" href="#allocalization-returncodes"><span>Return codes</span></a>.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ALLocalizationProxy::load__ssCR">
<a class="reference internal" href="../stdtypes.html#i" title="int">int</a> <code class="descclassname">ALLocalizationProxy::</code><code class="descname">load</code><span class="sig-paren">(</span><a class="reference internal" href="../stdtypes.html#ss" title="std::string">const std::string&amp;</a> <em>pDirectory</em><span class="sig-paren">)</span><a class="headerlink" href="#ALLocalizationProxy::load__ssCR" title="Permalink to this definition">¶</a></dt>
<dd><p>Replaces the data of nodes in the default directory by those in a given directory,
unloads the previous nodes and loads the new ones. By default, since the location of the robot
is unknown, the current node is supposed to be the node with the lowest id.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>pDirectory</strong> &#8211; Path of the directory, relatively to the base path. The directory must be under the base path.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">0 if no error occurred. Otherwise please refer to <a class="reference internal" href="#allocalization-returncodes"><span>Return codes</span></a>.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ALLocalizationProxy::save__ssCR">
<a class="reference internal" href="../stdtypes.html#i" title="int">int</a> <code class="descclassname">ALLocalizationProxy::</code><code class="descname">save</code><span class="sig-paren">(</span><a class="reference internal" href="../stdtypes.html#ss" title="std::string">const std::string&amp;</a> <em>pDirectory</em><span class="sig-paren">)</span><a class="headerlink" href="#ALLocalizationProxy::save__ssCR" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves the data in the default directory into a given directory. If the directory already exists,
it is first emptied. If it does not, it is created.</p>
<p>The saving function takes only one parameter, which is the name of the directory
in which you wish to save the data (this is a relative path under the base directory).
If the directory does not exist, it will be created. If it already exists, the data will
be overwritten.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>pDirectory</strong> &#8211; Path of the directory, relatively to the base path. The directory must be under the base path.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">0 if no error occurred. Otherwise please refer to <a class="reference internal" href="#allocalization-returncodes"><span>Return codes</span></a>.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="localization">
<h3>Localization<a class="headerlink" href="#localization" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="ALLocalizationProxy::learnHome">
<a class="reference internal" href="../stdtypes.html#i" title="int">int</a> <code class="descclassname">ALLocalizationProxy::</code><code class="descname">learnHome</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ALLocalizationProxy::learnHome" title="Permalink to this definition">¶</a></dt>
<dd><p>Learns the home node of the robot.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">0 if no error occurred. Otherwise please refer to <a class="reference internal" href="#allocalization-returncodes"><span>Return codes</span></a>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ALLocalizationProxy::getRobotPosition__b">
std::vector&lt;float&gt; <code class="descclassname">ALLocalizationProxy::</code><code class="descname">getRobotPosition</code><span class="sig-paren">(</span><a class="reference internal" href="../stdtypes.html#b" title="bool">bool</a> <em>active</em><span class="sig-paren">)</span><a class="headerlink" href="#ALLocalizationProxy::getRobotPosition__b" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>active</strong> &#8211; <p>False by default. Define the relocalization process in case of non reliable odometry:</p>
<ul>
<li>if True, the robot will shoot a scan to relocalize,</li>
<li>if False, the robot will not move.</li>
</ul>
</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">the coordinates x, y, theta of the pose2D of the robot, computed by the localization.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ALLocalizationProxy::goToHome">
<a class="reference internal" href="../stdtypes.html#i" title="int">int</a> <code class="descclassname">ALLocalizationProxy::</code><code class="descname">goToHome</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ALLocalizationProxy::goToHome" title="Permalink to this definition">¶</a></dt>
<dd><p>Localizes if needed and moves the robot back to the place where was performed <a class="reference internal" href="#ALLocalizationProxy::learnHome" title="ALLocalizationProxy::learnHome"><code class="xref cpp cpp-func docutils literal"><span class="pre">ALLocalizationProxy::learnHome</span></code></a>.
Accuracy depends on the environment.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">0 if no error occurred. Otherwise please refer to <a class="reference internal" href="#allocalization-returncodes"><span>Return codes</span></a>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ALLocalizationProxy::stopAll">
<a class="reference internal" href="../stdtypes.html#void" title="void">void</a> <code class="descclassname">ALLocalizationProxy::</code><code class="descname">stopAll</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ALLocalizationProxy::stopAll" title="Permalink to this definition">¶</a></dt>
<dd><p>The robot immediately drops all localization tasks and stops moving.</p>
</dd></dl>

<dl class="function">
<dt id="ALLocalizationProxy::isRelocalizationRequired">
<a class="reference internal" href="../stdtypes.html#b" title="bool">bool</a> <code class="descclassname">ALLocalizationProxy::</code><code class="descname">isRelocalizationRequired</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ALLocalizationProxy::isRelocalizationRequired" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">true if the robot will need to perform a scan to localize. Else it means that goToHome will be performed using odometry (so the robot is confident in its current location).</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ALLocalizationProxy::isDataAvailable">
<a class="reference internal" href="../stdtypes.html#b" title="bool">bool</a> <code class="descclassname">ALLocalizationProxy::</code><code class="descname">isDataAvailable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ALLocalizationProxy::isDataAvailable" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">true if there is a panorama loaded.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ALLocalizationProxy::getMessageFromErrorCode__iCR">
<a class="reference internal" href="../stdtypes.html#ss" title="std::string">std::string</a> <code class="descclassname">ALLocalizationProxy::</code><code class="descname">getMessageFromErrorCode</code><span class="sig-paren">(</span><a class="reference internal" href="../stdtypes.html#i" title="int">const int&amp;</a> <em>pCode</em><span class="sig-paren">)</span><a class="headerlink" href="#ALLocalizationProxy::getMessageFromErrorCode__iCR" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the <a class="reference internal" href="#allocalization-returncodes"><span>Return codes</span></a> message corresponding to the given error code int.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ALLocalizationProxy::goToPosition__floatCR">
<a class="reference internal" href="../stdtypes.html#i" title="int">int</a> <code class="descclassname">ALLocalizationProxy::</code><code class="descname">goToPosition</code><span class="sig-paren">(</span><a class="reference internal" href="../stdtypes.html#float" title="float">const float&amp;</a> <em>theta</em><span class="sig-paren">)</span><a class="headerlink" href="#ALLocalizationProxy::goToPosition__floatCR" title="Permalink to this definition">¶</a></dt>
<dd><p>Go to the given position trying to perform a visual close loop with the image
contained in current panorama at theta.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>theta</strong> &#8211; The target angle in the panorama referential.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">0 if the robot finish the movement at the good position. Else refer to
<a class="reference internal" href="#allocalization-returncodes"><span>Return codes</span></a> .</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ALLocalizationProxy::getRobotOrientation__b">
<a class="reference internal" href="../stdtypes.html#AL::ALValue" title="AL::ALValue">AL::ALValue</a> <code class="descclassname">ALLocalizationProxy::</code><code class="descname">getRobotOrientation</code><span class="sig-paren">(</span><a class="reference internal" href="../stdtypes.html#b" title="bool">bool</a> <em>active</em><span class="sig-paren">)</span><a class="headerlink" href="#ALLocalizationProxy::getRobotOrientation__b" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the estimated position in the current panorama.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>active</strong> &#8211; <p>False by default. Define the relocalization process in case of non reliable odometry:</p>
<ul>
<li>if True, the robot will shoot a scan to relocalize,</li>
<li>if False, the robot will not move.</li>
</ul>
</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><p>[EstimatedPosition, SuccessFlag, Confidence, OdometryOnly] where</p>
<ul class="simple">
<li><strong>panoramaOriginToRobotAngleEstimation</strong> is the estimated angular position (in radians) between -Pi and Pi.</li>
<li><strong>SuccessFlag</strong> is set to false if a critical error occurred (for
example if no image could be retrieved)</li>
<li><strong>Confidence</strong> is a measurement of the confidence of the position
estimation</li>
<li><strong>OdometryOnly</strong> is set to true if the confidence is too low and the
estimation relies on odometry only</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
<div class="section" id="events">
<h2>Events<a class="headerlink" href="#events" title="Permalink to this headline">¶</a></h2>
<dl class="event">
<dt id="ALLocalization/GoToBegin">
<div class="line">Event: <code class="descname">&quot;ALLocalization/GoToBegin&quot;</code></div>
callback<span class="sig-paren">(</span><a class="reference internal" href="../stdtypes.html#ss" title="std::string">std::string</a><em> eventName</em>, <a class="reference internal" href="../stdtypes.html#b" title="bool">bool</a><em> isRaised</em>, <a class="reference internal" href="../stdtypes.html#ss" title="std::string">std::string</a><em> subscriberIdentifier</em><span class="sig-paren">)</span><a class="headerlink" href="#ALLocalization/GoToBegin" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised at the beginning of a move by ALLocalizationProxy.</p>
</dd></dl>

<dl class="event">
<dt id="ALLocalization/GoToNextMove">
<div class="line">Event: <code class="descname">&quot;ALLocalization/GoToNextMove&quot;</code></div>
callback<span class="sig-paren">(</span><a class="reference internal" href="../stdtypes.html#ss" title="std::string">std::string</a><em> eventName</em>, std::vector&lt;<a class="reference internal" href="../stdtypes.html#float" title="float">float</a>&gt;<em> nextMove</em>, <a class="reference internal" href="../stdtypes.html#ss" title="std::string">std::string</a><em> subscriberIdentifier</em><span class="sig-paren">)</span><a class="headerlink" href="#ALLocalization/GoToNextMove" title="Permalink to this definition">¶</a></dt>
<dd><p>Contains the [x, y, theta] value of the relative move the robot will do
to reach its destination.</p>
</dd></dl>

<dl class="event">
<dt id="ALLocalization/GoToSuccess">
<div class="line">Event: <code class="descname">&quot;ALLocalization/GoToSuccess&quot;</code></div>
callback<span class="sig-paren">(</span><a class="reference internal" href="../stdtypes.html#ss" title="std::string">std::string</a><em> eventName</em>, <a class="reference internal" href="../stdtypes.html#b" title="bool">bool</a><em> isRaised</em>, <a class="reference internal" href="../stdtypes.html#ss" title="std::string">std::string</a><em> subscriberIdentifier</em><span class="sig-paren">)</span><a class="headerlink" href="#ALLocalization/GoToSuccess" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised when the robot has successfully reached its destination.</p>
</dd></dl>

<dl class="event">
<dt id="ALLocalization/GoToFailed">
<div class="line">Event: <code class="descname">&quot;ALLocalization/GoToFailed&quot;</code></div>
callback<span class="sig-paren">(</span><a class="reference internal" href="../stdtypes.html#ss" title="std::string">std::string</a><em> eventName</em>, <a class="reference internal" href="../stdtypes.html#b" title="bool">bool</a><em> isRaised</em>, <a class="reference internal" href="../stdtypes.html#ss" title="std::string">std::string</a><em> subscriberIdentifier</em><span class="sig-paren">)</span><a class="headerlink" href="#ALLocalization/GoToFailed" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised when the robot could not reach its destination, either because
it was lost or because it was interrupted by an obstacle.</p>
</dd></dl>

<dl class="event">
<dt id="ALLocalization/GoToLost">
<div class="line">Event: <code class="descname">&quot;ALLocalization/GoToLost&quot;</code></div>
callback<span class="sig-paren">(</span><a class="reference internal" href="../stdtypes.html#ss" title="std::string">std::string</a><em> eventName</em>, <a class="reference internal" href="../stdtypes.html#b" title="bool">bool</a><em> isRaised</em>, <a class="reference internal" href="../stdtypes.html#ss" title="std::string">std::string</a><em> subscriberIdentifier</em><span class="sig-paren">)</span><a class="headerlink" href="#ALLocalization/GoToLost" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised when the robot gets lost while trying to go to its destination.</p>
</dd></dl>

<dl class="event">
<dt id="ALLocalization/LocalizeBegin">
<div class="line">Event: <code class="descname">&quot;ALLocalization/LocalizeBegin&quot;</code></div>
callback<span class="sig-paren">(</span><a class="reference internal" href="../stdtypes.html#ss" title="std::string">std::string</a><em> eventName</em>, <a class="reference internal" href="../stdtypes.html#b" title="bool">bool</a><em> isRaised</em>, <a class="reference internal" href="../stdtypes.html#ss" title="std::string">std::string</a><em> subscriberIdentifier</em><span class="sig-paren">)</span><a class="headerlink" href="#ALLocalization/LocalizeBegin" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised whenever the robot begins a localization process.</p>
</dd></dl>

<dl class="event">
<dt id="ALLocalization/LocalizeSuccess">
<div class="line">Event: <code class="descname">&quot;ALLocalization/LocalizeSuccess&quot;</code></div>
callback<span class="sig-paren">(</span><a class="reference internal" href="../stdtypes.html#ss" title="std::string">std::string</a><em> eventName</em>, <a class="reference internal" href="../stdtypes.html#b" title="bool">bool</a><em> isRaised</em>, <a class="reference internal" href="../stdtypes.html#ss" title="std::string">std::string</a><em> subscriberIdentifier</em><span class="sig-paren">)</span><a class="headerlink" href="#ALLocalization/LocalizeSuccess" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised when the localization is successful.</p>
</dd></dl>

<dl class="event">
<dt id="ALLocalization/LocalizeLost">
<div class="line">Event: <code class="descname">&quot;ALLocalization/LocalizeLost&quot;</code></div>
callback<span class="sig-paren">(</span><a class="reference internal" href="../stdtypes.html#ss" title="std::string">std::string</a><em> eventName</em>, <a class="reference internal" href="../stdtypes.html#b" title="bool">bool</a><em> isRaised</em>, <a class="reference internal" href="../stdtypes.html#ss" title="std::string">std::string</a><em> subscriberIdentifier</em><span class="sig-paren">)</span><a class="headerlink" href="#ALLocalization/LocalizeLost" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised when the localization fails and the robot is lost.</p>
</dd></dl>

<dl class="event">
<dt id="ALLocalization/OdometryBegin">
<div class="line">Event: <code class="descname">&quot;ALLocalization/OdometryBegin&quot;</code></div>
callback<span class="sig-paren">(</span><a class="reference internal" href="../stdtypes.html#ss" title="std::string">std::string</a><em> eventName</em>, <a class="reference internal" href="../stdtypes.html#b" title="bool">bool</a><em> isRaised</em>, <a class="reference internal" href="../stdtypes.html#ss" title="std::string">std::string</a><em> subscriberIdentifier</em><span class="sig-paren">)</span><a class="headerlink" href="#ALLocalization/OdometryBegin" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised when the robot starts localizing using the odometry.</p>
</dd></dl>

<dl class="event">
<dt id="ALLocalization/OdometryInsufficient">
<div class="line">Event: <code class="descname">&quot;ALLocalization/OdometryInsufficient&quot;</code></div>
callback<span class="sig-paren">(</span><a class="reference internal" href="../stdtypes.html#ss" title="std::string">std::string</a><em> eventName</em>, <a class="reference internal" href="../stdtypes.html#b" title="bool">bool</a><em> isRaised</em>, <a class="reference internal" href="../stdtypes.html#ss" title="std::string">std::string</a><em> subscriberIdentifier</em><span class="sig-paren">)</span><a class="headerlink" href="#ALLocalization/OdometryInsufficient" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised when the odometry information is not sufficient for the current
localization configuration, and the robot needs to perform more
localization steps.</p>
</dd></dl>

<dl class="event">
<dt id="ALLocalization/HalfScanBegin">
<div class="line">Event: <code class="descname">&quot;ALLocalization/HalfScanBegin&quot;</code></div>
callback<span class="sig-paren">(</span><a class="reference internal" href="../stdtypes.html#ss" title="std::string">std::string</a><em> eventName</em>, <a class="reference internal" href="../stdtypes.html#b" title="bool">bool</a><em> isRaised</em>, <a class="reference internal" href="../stdtypes.html#ss" title="std::string">std::string</a><em> subscriberIdentifier</em><span class="sig-paren">)</span><a class="headerlink" href="#ALLocalization/HalfScanBegin" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised when the robot starts doing a half-turn scan with its head.</p>
</dd></dl>

<dl class="event">
<dt id="ALLocalization/HalfScanInsufficient">
<div class="line">Event: <code class="descname">&quot;ALLocalization/HalfScanInsufficient&quot;</code></div>
callback<span class="sig-paren">(</span><a class="reference internal" href="../stdtypes.html#ss" title="std::string">std::string</a><em> eventName</em>, <a class="reference internal" href="../stdtypes.html#b" title="bool">bool</a><em> isRaised</em>, <a class="reference internal" href="../stdtypes.html#ss" title="std::string">std::string</a><em> subscriberIdentifier</em><span class="sig-paren">)</span><a class="headerlink" href="#ALLocalization/HalfScanInsufficient" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised when the half-scan information is not sufficient for the current
localization configuration (either the localization is in full mode, or
the score is not enough), and the robot needs to perform more localization
steps.</p>
</dd></dl>

<dl class="event">
<dt id="ALLocalization/HalfScanSuccess">
<div class="line">Event: <code class="descname">&quot;ALLocalization/HalfScanSuccess&quot;</code></div>
callback<span class="sig-paren">(</span><a class="reference internal" href="../stdtypes.html#ss" title="std::string">std::string</a><em> eventName</em>, <a class="reference internal" href="../stdtypes.html#b" title="bool">bool</a><em> isRaised</em>, <a class="reference internal" href="../stdtypes.html#ss" title="std::string">std::string</a><em> subscriberIdentifier</em><span class="sig-paren">)</span><a class="headerlink" href="#ALLocalization/HalfScanSuccess" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised when the half-scan information is enough to perform the localization.</p>
</dd></dl>

<dl class="event">
<dt id="ALLocalization/FullScanBegin">
<div class="line">Event: <code class="descname">&quot;ALLocalization/FullScanBegin&quot;</code></div>
callback<span class="sig-paren">(</span><a class="reference internal" href="../stdtypes.html#ss" title="std::string">std::string</a><em> eventName</em>, <a class="reference internal" href="../stdtypes.html#b" title="bool">bool</a><em> isRaised</em>, <a class="reference internal" href="../stdtypes.html#ss" title="std::string">std::string</a><em> subscriberIdentifier</em><span class="sig-paren">)</span><a class="headerlink" href="#ALLocalization/FullScanBegin" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised when the robot starts a complete scan (including a half turn of
its base).</p>
</dd></dl>

<dl class="event">
<dt id="ALLocalization/UTurnEnd">
<div class="line">Event: <code class="descname">&quot;ALLocalization/UTurnEnd&quot;</code></div>
callback<span class="sig-paren">(</span><a class="reference internal" href="../stdtypes.html#ss" title="std::string">std::string</a><em> eventName</em>, <a class="reference internal" href="../stdtypes.html#b" title="bool">bool</a><em> isRaised</em>, <a class="reference internal" href="../stdtypes.html#ss" title="std::string">std::string</a><em> subscriberIdentifier</em><span class="sig-paren">)</span><a class="headerlink" href="#ALLocalization/UTurnEnd" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised when the robot finishes the U turn of its base to achieve a full scan.</p>
</dd></dl>

<dl class="event">
<dt id="ALLocalization/FullScanInsufficient">
<div class="line">Event: <code class="descname">&quot;ALLocalization/FullScanInsufficient&quot;</code></div>
callback<span class="sig-paren">(</span><a class="reference internal" href="../stdtypes.html#ss" title="std::string">std::string</a><em> eventName</em>, <a class="reference internal" href="../stdtypes.html#b" title="bool">bool</a><em> isRaised</em>, <a class="reference internal" href="../stdtypes.html#ss" title="std::string">std::string</a><em> subscriberIdentifier</em><span class="sig-paren">)</span><a class="headerlink" href="#ALLocalization/FullScanInsufficient" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised when the full scan information is not sufficient. This means that
the robot is lost.</p>
</dd></dl>

<dl class="event">
<dt id="ALLocalization/FullScanSuccess">
<div class="line">Event: <code class="descname">&quot;ALLocalization/FullScanSuccess&quot;</code></div>
callback<span class="sig-paren">(</span><a class="reference internal" href="../stdtypes.html#ss" title="std::string">std::string</a><em> eventName</em>, <a class="reference internal" href="../stdtypes.html#b" title="bool">bool</a><em> isRaised</em>, <a class="reference internal" href="../stdtypes.html#ss" title="std::string">std::string</a><em> subscriberIdentifier</em><span class="sig-paren">)</span><a class="headerlink" href="#ALLocalization/FullScanSuccess" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised when the full scan information is enough to perform the localization.</p>
</dd></dl>

<dl class="event">
<dt id="ALLocalization/LocalizeDirectionBegin">
<div class="line">Event: <code class="descname">&quot;ALLocalization/LocalizeDirectionBegin&quot;</code></div>
callback<span class="sig-paren">(</span><a class="reference internal" href="../stdtypes.html#ss" title="std::string">std::string</a><em> eventName</em>, <a class="reference internal" href="../stdtypes.html#b" title="bool">bool</a><em> isRaised</em>, <a class="reference internal" href="../stdtypes.html#ss" title="std::string">std::string</a><em> subscriberIdentifier</em><span class="sig-paren">)</span><a class="headerlink" href="#ALLocalization/LocalizeDirectionBegin" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised when getRobotOrientation is called.</p>
</dd></dl>

<dl class="event">
<dt id="ALLocalization/LocalizeDirectionLost">
<div class="line">Event: <code class="descname">&quot;ALLocalization/LocalizeDirectionLost&quot;</code></div>
callback<span class="sig-paren">(</span><a class="reference internal" href="../stdtypes.html#ss" title="std::string">std::string</a><em> eventName</em>, <a class="reference internal" href="../stdtypes.html#b" title="bool">bool</a><em> isRaised</em>, <a class="reference internal" href="../stdtypes.html#ss" title="std::string">std::string</a><em> subscriberIdentifier</em><span class="sig-paren">)</span><a class="headerlink" href="#ALLocalization/LocalizeDirectionLost" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised when the orientation of the robot has NOT been successfully retrieved.</p>
</dd></dl>

<dl class="event">
<dt id="ALLocalization/LocalizeDirectionSuccess">
<div class="line">Event: <code class="descname">&quot;ALLocalization/LocalizeDirectionSuccess&quot;</code></div>
callback<span class="sig-paren">(</span><a class="reference internal" href="../stdtypes.html#ss" title="std::string">std::string</a><em> eventName</em>, <a class="reference internal" href="../stdtypes.html#b" title="bool">bool</a><em> isRaised</em>, <a class="reference internal" href="../stdtypes.html#ss" title="std::string">std::string</a><em> subscriberIdentifier</em><span class="sig-paren">)</span><a class="headerlink" href="#ALLocalization/LocalizeDirectionSuccess" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised when the orientation of the robot has been successfully retrieved.</p>
</dd></dl>

<dl class="event">
<dt id="ALLocalization/StartingComputation">
<div class="line">Event: <code class="descname">&quot;ALLocalization/StartingComputation&quot;</code></div>
callback<span class="sig-paren">(</span><a class="reference internal" href="../stdtypes.html#ss" title="std::string">std::string</a><em> eventName</em>, <a class="reference internal" href="../stdtypes.html#b" title="bool">bool</a><em> isRaised</em>, <a class="reference internal" href="../stdtypes.html#ss" title="std::string">std::string</a><em> subscriberIdentifier</em><span class="sig-paren">)</span><a class="headerlink" href="#ALLocalization/StartingComputation" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised when the localization of the robot starts to be computed based on the data gathered from the sensors.</p>
</dd></dl>

<dl class="event">
<dt id="ALLocalization/StoppingComputation">
<div class="line">Event: <code class="descname">&quot;ALLocalization/StoppingComputation&quot;</code></div>
callback<span class="sig-paren">(</span><a class="reference internal" href="../stdtypes.html#ss" title="std::string">std::string</a><em> eventName</em>, <a class="reference internal" href="../stdtypes.html#b" title="bool">bool</a><em> isRaised</em>, <a class="reference internal" href="../stdtypes.html#ss" title="std::string">std::string</a><em> subscriberIdentifier</em><span class="sig-paren">)</span><a class="headerlink" href="#ALLocalization/StoppingComputation" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised when the localization of the robot has been computed.</p>
</dd></dl>

</div>
<div class="section" id="localization-modes">
<span id="allocalization-localizationmodes"></span><h2>Localization modes<a class="headerlink" href="#localization-modes" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><strong>0 - USE_NOHINT</strong>: the robot stops, moves its head, makes a half-turn and moves its head again, taking a full
panorama to locate itself accurately without using a hint. It can be quite slow.</li>
<li><strong>1 - USE_SIMPLE</strong>: the robot stops and moves its head, taking a half-panorama to locate itself accurately.</li>
<li><strong>2 - USE_FULL</strong>: the robot stops, moves its head, makes a half-turn and moves its head again, taking a full
panorama to locate itself accurately. It leads to higher confidence than with a half-panorama.</li>
<li><strong>3 - USE_GRADATION</strong>: the robot takes a half-panorama to locate itself accurately. If the confidence is too
low, it makes a half-turn and completes this half-panorama into a full panorama.</li>
</ul>
</div>
<div class="section" id="return-codes">
<span id="allocalization-returncodes"></span><h2>Return codes<a class="headerlink" href="#return-codes" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><strong>0</strong>: OK, the method was called successfully.</li>
<li><strong>1</strong>: Robot not woken up.</li>
<li><strong>2</strong>: The robot is not in the current panorama.</li>
<li><strong>3</strong>: The panorama have not been set.</li>
<li><strong>4</strong>: Impossible to write the panorama on disk.</li>
<li><strong>5</strong>: Impossible to find the current position.</li>
<li><strong>6</strong>: Impossible to perform a visual close loop.</li>
<li><strong>8</strong>: Impossible to load the panorama.</li>
<li><strong>9</strong>: The robot has been interrupted by a stop.</li>
<li><strong>10</strong>: Invalid working directory name.</li>
<li><strong>11</strong>: Call to a function from another proxy failed.</li>
<li><strong>12</strong>: The robot is already performing an exclusive action (moving or modifying data)</li>
<li><strong>13</strong>: The panorama is incomplete, because the half turn was interrupted by
an obstacle. However the robot managed to go back to its initial position.</li>
<li><strong>14</strong>: The panorama is complete, but the robot did not manage to go back to
its initial position because it was blocked by an obstacle.</li>
<li><strong>15</strong>: The panorama is incomplete because its half turn was interrupted,
and it did not manage to get back to its initial position.</li>
<li><strong>101</strong>: The confidence is too low to continue moving.</li>
<li><strong>102</strong>: The name corresponds to a file, not a directory.</li>
<li><strong>103</strong>: Unable to create the directory.</li>
<li><strong>104</strong>: Filesystem exception caught.</li>
<li><strong>105</strong>: Directory not found.</li>
<li><strong>106</strong>: Failed to open the file.</li>
<li><strong>107</strong>: No node to load.</li>
<li><strong>108</strong>: No node close to the estimate position.</li>
<li><strong>109</strong>: Estimate position too close to another node for acquisition.</li>
<li><strong>110</strong>: Wrong node id.</li>
<li><strong>111</strong>: The robot is not supposed to go here (out of the known zone).</li>
<li><strong>112</strong>: Unknown localization mode.</li>
<li><strong>113</strong>: No data has been loaded or acquired.</li>
<li><strong>other</strong>: non zero return codes from <a class="reference internal" href="allocalization.html#allocalization"><span>ALLocalization</span></a> are forwarded. If the return code you got is not listed here, you may find it in the <a class="reference internal" href="#allocalization-api"><span>ALLocalization API</span></a>.</li>
</ul>
</div>
</div>


              </div>
            </div>
          </div>
          
            
              <div class="yui-b" id="sidebar">
                
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <ul>
<li class="toctree-l1"><a class="reference internal" href="../../contents.html">Site map</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../news/index.html">What’s new</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../index_dev_guide.html">NAOqi - Developer guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../getting_started/index.html">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../getting_started/creating_applications/index.html">Creating an application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ref/life/index.html">Programming for a living robot</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../getting_started/index_tuto.html">Other tutorials</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../software/choregraphe/index.html">Choregraphe Suite</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../dev/programming_index.html">SDKs</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">NAOqi APIs</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../core/index.html">NAOqi Core</a></li>
<li class="toctree-l3"><a class="reference internal" href="../interaction/index_interaction.html">NAOqi Interaction engines</a></li>
<li class="toctree-l3"><a class="reference internal" href="../motion/index.html">NAOqi Motion</a></li>
<li class="toctree-l3"><a class="reference internal" href="../audio/index.html">NAOqi Audio</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html">NAOqi Vision</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="albacklightingdetection.html">ALBacklightingDetection</a></li>
<li class="toctree-l4"><a class="reference internal" href="albarcodereader.html">ALBarcodeReader</a></li>
<li class="toctree-l4"><a class="reference internal" href="alcolorblobdetection.html">ALColorBlobDetection</a></li>
<li class="toctree-l4"><a class="reference internal" href="aldarknessdetection.html">ALDarknessDetection</a></li>
<li class="toctree-l4"><a class="reference internal" href="allandmarkdetection.html">ALLandMarkDetection</a></li>
<li class="toctree-l4"><a class="reference internal" href="almovementdetection.html">ALMovementDetection</a></li>
<li class="toctree-l4"><a class="reference internal" href="alphotocapture.html">ALPhotoCapture</a></li>
<li class="toctree-l4"><a class="reference internal" href="alredballdetection.html">ALRedBallDetection</a></li>
<li class="toctree-l4"><a class="reference internal" href="alsegmentation3D.html">ALSegmentation3D</a></li>
<li class="toctree-l4"><a class="reference internal" href="alvideodevice.html">ALVideoDevice</a></li>
<li class="toctree-l4"><a class="reference internal" href="alvideorecorder.html">ALVideoRecorder</a></li>
<li class="toctree-l4"><a class="reference internal" href="alvisionrecognition.html">ALVisionRecognition</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="allocalization.html">ALLocalization</a><ul class="current">
<li class="toctree-l5 current"><a class="current reference internal" href="">ALLocalization API</a><ul class="simple">
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="allocalization-tuto.html">ALLocalization Tutorial</a></li>
<li class="toctree-l5"><a class="reference internal" href="allocalization_advanced.html">ALLocalization - advanced</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="alvisualcompass.html">ALVisualCompass</a></li>
<li class="toctree-l4"><a class="reference internal" href="alvisualspacehistory.html">ALVisualSpaceHistory</a></li>
<li class="toctree-l4"><a class="reference internal" href="alcloseobjectdetection.html">ALCloseObjectDetection</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../peopleperception/index.html">NAOqi People Perception</a></li>
<li class="toctree-l3"><a class="reference internal" href="../sensors/index.html">NAOqi Sensors &amp; LEDs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../sensors/dcm.html">DCM</a></li>
<li class="toctree-l3"><a class="reference internal" href="../stdtypes.html">Types</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../dev/libqi/index.html">qi Framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ref/index.html">Former NAOqi Framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../simulators/simulator_index.html">Simulators</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../home_nao.html"><strong>NAO</strong> - Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../home_pepper.html"><strong>Pepper</strong> - Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../home_romeo.html"><strong>Romeo</strong> - Documentation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../legal/notice.html">Legal notices</a></li>
</ul>

    <div id="on-this-page" style="display:none;">
        <h2 id="otp-link">On this page</h2>
        <div id="toc-list">
            <ul>
<li><a class="reference internal" href="#">ALLocalization API</a><ul>
<li><a class="reference internal" href="#method-list">Method list</a></li>
<li><a class="reference internal" href="#events-list">Events List</a></li>
<li><a class="reference internal" href="#methods">Methods</a><ul>
<li><a class="reference internal" href="#import-export">Import/Export</a></li>
<li><a class="reference internal" href="#localization">Localization</a></li>
</ul>
</li>
<li><a class="reference internal" href="#events">Events</a></li>
<li><a class="reference internal" href="#localization-modes">Localization modes</a></li>
<li><a class="reference internal" href="#return-codes">Return codes</a></li>
</ul>
</li>
</ul>

        </div>
    </div>
        </div>
      </div>
              </div>
            
          
        </div>
    </main>
    <a href="#0" class="cd-top"></a>
    <div id="ft">
      
      <a title="Glossary" href="../../glossary.html">Glossary</a>
      <a title="Site map" href="../../contents.html">Site map</a>
      <a title="Index" href="../../genindex.html">Index</a>
      <a title="Support" target="_blank" href="https://account.aldebaran.com/support/">Support</a>
      <a title="Contact" target="_blank" href="https://www.aldebaran.com/en/contact">Contact</a>
      <a title="Legal Notices" href="../../legal/notice.html">Legal Notices</a>
      
      
      <img src="https://www.ald.softbankrobotics.com/sites/aldebaran/files/logos-picture/2016_digital_logo_sbr_112x31_0.png" alt="">
    </div>
  </div>

      <div class="clearer"></div>
    </div>
  </body>
</html>